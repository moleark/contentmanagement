{"version":3,"sources":["static/images/logo.png","CBase.ts","consts.ts","me/EditMeInfo.tsx","me/VMe.tsx","me/VCompileImg.tsx","configuration.ts","me/VSetDetails.tsx","me/VAbout.tsx","me/CMe.tsx","ui/main.tsx","page/VMain.tsx","page/VEditPage.tsx","page/VShowPage.tsx","page/VPickTemplate.tsx","page/VRedactModule.tsx","page/VPinkBranch.tsx","page/CPage.tsx","posts/VMain.tsx","posts/VEdit.tsx","posts/VShow.tsx","posts/VPickImage.tsx","posts/VPickTemplate.tsx","posts/VRelease.tsx","posts/VReleaseProduct.tsx","posts/CPosts.tsx","media/VMain.tsx","media/VShowImg.tsx","media/VEdit.tsx","media/CMedia.tsx","templets/VEdit.tsx","templets/VMain.tsx","templets/VShow.tsx","templets/CTemplets.tsx","tag/VTag.tsx","tag/CTag.tsx","res/index.ts","res/en.ts","CApp.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","CUqBase","this","_cApp","_uqs","CBase","consts","CSub","uqPromotion","uqWarehouse","uqSalesTask","uqCustomer","uqProduct","uqCommon","appIcon","headerClass","EditMeInfo","props","schema","name","type","uiSchema","items","icon","widget","label","t","onItemChanged","itemSchema","newValue","preValue","a","async","userApi","userSetProp","data","nav","user","saveLocalUser","page","header","nick","param","openPage","VPage","observable","VMe","onSaved","resId","mediaPath","getMediaPath","closePage","observer","controller","onSet","PostTotal","PageTotal","cApp","left","className","src","right","headerClassName","onClick","openVPage","id","String","substr","branch","undefined","cTag","showTag","resUrl","member","val","action","style","count","justifyContent","VCompileImg","form","onAddSalesTask","model","buttonClick","onFormButtonClick","context","_","clone","path","saveItem","mediaId","caption","submit","required","onUpload","media","openPageElement","image","saveButton","ref","v","formData","onButtonClick","requiredFlag","appConfig","appName","version","tvs","oem","setting","url","carturl","downloadAppurl","sharelogo","logo","pageHeaderCss","appUrlDomain","previewUrl","VSetDetails","logout","showLogout","changePassword","rows","component","fontSize","verticalAlign","showAbout","color","values","VAbout","height","alt","width","position","bottom","PageMedia","searchQuery","searchMediaQuery","firstSize","pageSize","pageStart","ret","item","PageItems","CMe","searchMadiaKey","key","pageMedia","uqs","webBuilder","SearchImage","first","loadList","SearchTotalBrowsing","query","postTotal","length","console","log","pageTotal","onAlterImg","current","author","Image","save","find","merge","$update","Date","$create","unshift","render","renderView","tab","selected","VMain","cMe","cPosts","cMedia","cPage","faceTabs","content","onShown","notify","map","TabCaptionComponent","tabs","onAdd","searchwebPage","renderItem","index","itemRow","titel","divUser","renderUser","showDetail","fontWeight","padding","onPreviewPage","date","VEditPage","onClickSaveButton","templateContent","boxId","tv","discription","placeholder","template","pickId","pickTemplate","Templet","textAlign","VShowPage","onRedact","itemsModule","onCommonalityModule","ondisplay","lock","sortItemsModule","sort","m","n","isMe","Tuid","equ","addModule","itemClick","showDetailModule","borderBottom","onRemove","VPickTemplate","pageTemplate","searchTemplateKey","size","onSearch","back","onScrollBottom","more","onPickedTemplate","Discount","list","value","title","checked","onChange","evt","currentTarget","dateVisible","setValue","defaultChecked","Widget","VResacModule","currentModule","saveItemModule","onAddMap","branchType","WidgetClass","defaultValue","VPickBranch","searchBranch","searchBranchKey","onPickedBranch","overflow","CPage","searchPageKey","QueryPager","SearchWebPage","SearchTemplate","SearchBranch","WebPage","Branch","returnCall","Template","window","open","vCall","search","WebPageBranch","del","webPage","arr1","SearchPrivateBranch","_page","result","add","load","itme","onMeAll","setMe","pagePosts","searchPostsKey","renderMeAllToggle","none","before","web","agent","assist","openweb","$c","$u","updated","now","create","getTime","cYear","getFullYear","cMonth","getMonth","cDate","getDate","uYear","uMonth","uDate","backgroundImage","cnButton","data-toggle","classNames","active","VEdit","textarea","imageContent","pickImage","tt","VShow","onShowRelease","edite","VPickImage","onPickedImage","res","sales","privateSite","publicSite","$en","setRes","publicList","sel","subList","VRelease","discount","onPublish","i","publishPost","arr","push","Number","showPostPublishForProduct","fieldLabelSize","VReleaseProduct","CPosts","SearchPost","setEachItem","useUser","Auser","Post","pickProduct","PublishPost","_post","_operator","tags","tagName","onPreviewPost","SearchPostPublishForProduct","$zh","divItems","onAddClick","loading","copyClick","e","copy","target","previousElementSibling","innerText","alert","preview","imgStyle","VShowImg","CMedia","showMedia","templet","contentModule","onPreview","CTemplets","VTag","b","valuesView","Test1","view","c","CTag","loadValues","post","noposts","editorpost","searchpost","postdetailed","describe","publish","productpublish","ordinarypublish","pleaseselect","internalsales","lightagent","internalwebpage","openwebpage","picture","searchpicture","selectpicture","editorpicture","nopicture","uploadpicture","selecttemplate","notemplate","editorpage","editorsubmodule","mymodule","me","tag","set","about","password","account","privacypolicy","personalinformation","headportrait","all","select","copysuccess","editor","CApp","cTemplets","userCache","_renderUser","userId","getValue","document","domain","userLoader","hr","SearchEmployeeByid","_id","UserCache","newC","start","showMain","initTabName","use","CAppBase","setSettings","App","onLogined","React","Boolean","location","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.88c5a589.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import { CSub, CBase } from 'tonva';\r\nimport { UQs } from './uqs';\r\nimport { CApp } from 'CApp';\r\n\r\nexport abstract class CUqBase extends CBase {\r\n    get cApp(): CApp { return this._cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n\r\n}\r\n\r\nexport abstract class CUqSub extends CSub {\r\n    get cApp(): CApp { return this.cApp; }\r\n    protected get uqs(): UQs { return this._uqs as UQs };\r\n    protected get owner(): CUqBase { return this._owner as CUqBase }\r\n}","export const consts = {\r\n\r\n    uqPromotion: '百灵威系统工程部/promotion',\r\n    uqWarehouse: \"百灵威系统工程部/warehouse\",\r\n    uqSalesTask: '百灵威系统工程部/salestask',\r\n    uqCustomer: '百灵威系统工程部/customer',\r\n    uqProduct: \"百灵威系统工程部/product\",\r\n    uqCommon: '百灵威系统工程部/common',\r\n    appIcon: 'http://101.200.46.56/imgs/Bear-icon.png',\r\n    headerClass: 'bg-primary py-1',\r\n}","import * as React from 'react';\r\nimport { Page, VPage, ItemSchema, StringSchema, ImageSchema, UiSchema, UiImageItem, UiTextItem, Edit, nav, userApi } from 'tonva';\r\nimport { CMe } from './CMe';\r\nimport { observable } from 'mobx';\r\n\r\nexport class EditMeInfo extends VPage<CMe> {\r\n    @observable private data: any;\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n    private schema: ItemSchema[] = [\r\n        // { name: 'nick', type: 'string' } as StringSchema,\r\n        { name: 'icon', type: 'image' } as ImageSchema,\r\n    ];\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            // nick: { widget: 'text', label: '别名', placeholder: '好的别名更方便记忆' } as UiTextItem,\r\n            icon: { widget: 'image', label: this.t('headportrait') } as UiImageItem,\r\n        }\r\n    }\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        let { nick, icon } = nav.user;\r\n        this.data = {\r\n            nick: nick,\r\n            icon: icon,\r\n        };\r\n\r\n    }\r\n\r\n    private onItemChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        await userApi.userSetProp(name, newValue);\r\n        this.data[name] = newValue;\r\n        (nav.user as any)[name] = newValue;\r\n        nav.saveLocalUser();\r\n    }\r\n\r\n    private page = () => {\r\n        let { schema, uiSchema, data, onItemChanged } = this;\r\n        return <Page header={this.t('personalinformation')}>\r\n            <Edit schema={schema} uiSchema={uiSchema}\r\n                data={data}\r\n                onItemChanged={onItemChanged} />\r\n        </Page>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { nav, Image, VPage, LMR, Page } from 'tonva';\r\nimport { CMe } from './CMe';\r\nimport { consts } from 'consts';\r\nimport { observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { EditMeInfo } from './EditMeInfo'\r\n\r\nexport class VMe extends VPage<CMe> {\r\n    @observable private mediaPath: string;\r\n    async open(param?: any) {\r\n\r\n    }\r\n    private getMediaPath(resId: string): string { return nav.resUrl + (resId.substr(1)) }\r\n\r\n    private onSaved = (resId: string): Promise<void> => {\r\n        this.mediaPath = this.getMediaPath(resId);\r\n        this.closePage();\r\n        return;\r\n    }\r\n\r\n    render(member: any): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        let { onSet, user, PostTotal, PageTotal, cApp } = this.controller;\r\n        PageTotal = PageTotal ? PageTotal : 0;\r\n        PostTotal = PostTotal ? PostTotal : 0;\r\n        if (!user) return;\r\n\r\n        let left = <Image className=\"ml-2 border text-center w-3c h-3c mx-3\" src={user.icon} />\r\n        let right = <div className=\" mt-3\"><span className=\"iconfont icon-jiantou1 text-primary px-3\"></span></div>\r\n        return <Page header={this.t('me')} headerClassName={consts.headerClass}>\r\n            <LMR\r\n                left={left}\r\n                className=\"bg-white py-2 border-bottom\"\r\n                right={right}\r\n                onClick={() => { this.openVPage(EditMeInfo) }}>\r\n                <div className=\"mt-1\">\r\n                    <div>{userSpan(user.name, user.nick)}</div>\r\n                    <div className=\"small pt-1\"><span className=\"text-muted\">ID：</span> {user.id > 10000 ? user.id : String(user.id + 10000).substr(1)}</div>\r\n                </div>\r\n            </LMR>\r\n            {branch(this.t('post'), PostTotal, \"icon-yewuzongliang\", undefined)}\r\n            {branch(this.t('page'), PageTotal, \"icon-shuangsechangyongtubiao-\", undefined)}\r\n            {branch(this.t('tag'), PageTotal, \"icon-shuangsechangyongtubiao-\", cApp.cTag.showTag)}\r\n            {branch(this.t('set'), null, \"icon-shezhi3 \", onSet)}\r\n        </Page>;\r\n    })\r\n}\r\n\r\n\r\nfunction branch(name: string, val: string, icon: string, action: any): JSX.Element {\r\n    let style = \" iconfont text-primary  \" + icon;\r\n    let count: any = val ? <div className=\"text-muted small mx-3 px-3\">浏览量：{val}</div> : <div className=\"text-muted small mx-3 px-3 my-3\"></div>;\r\n    return <div className=\"bg-white py-2 d-flex px-3 mt-1\" style={{ justifyContent: 'space-between' }} onClick={action}>\r\n        <div className={style}>\r\n            <span className=\"ml-1 mx-3\">{name}</span>\r\n            {count}\r\n        </div>\r\n        <div className=\"text-primary small\">\r\n            <span className=\"ml-2 iconfont icon-jiantou1\"></span>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nfunction userSpan(name: string, nick: string): JSX.Element {\r\n    return <small className=\"muted\">{name}</small>\r\n}","import * as React from \"react\";\r\nimport _ from 'lodash';\r\nimport { consts } from \"consts\";\r\nimport { CMe } from \"./CMe\";\r\nimport { observer } from \"mobx-react\";\r\nimport { VPage, UiSchema, Schema, UiInputItem, Page, Form, Context, ImageUploader, nav } from \"tonva\";\r\nimport { observable } from \"mobx\";\r\n\r\nexport class VCompileImg extends VPage<CMe> {\r\n    @observable private media: any;\r\n    @observable private mediaPath: string;\r\n    private form: Form;\r\n    async open(media: any) {\r\n        this.media = media;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onAddSalesTask = async (model: any) => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private get mediaId() { return this.media && this.media.id; }\r\n    private getMediaPath(resId: string): string { return nav.resUrl + (resId.substr(1)) }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let param = _.clone(context.form.data);\r\n        param.path = this.mediaPath;\r\n        await this.controller.saveItem(this.mediaId, param);\r\n        this.closePage();\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            caption: { widget: 'text', label: this.t('title') } as UiInputItem,\r\n            submit: { widget: 'button', label: this.t('submit') }\r\n        }\r\n    };\r\n\r\n    private schema: Schema = [\r\n        { name: 'caption', type: 'string', required: true },\r\n    ];\r\n\r\n    private onSaved = (resId: string): Promise<void> => {\r\n        this.mediaPath = this.getMediaPath(resId);\r\n        this.closePage();\r\n        return;\r\n    }\r\n\r\n    private onUpload = () => {\r\n        this.media = this.form.data;\r\n        this.openPageElement(<ImageUploader onSaved={this.onSaved} />);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let image: any;\r\n        let saveButton: any;\r\n        if (this.mediaPath) {\r\n            image = <div className=\"m-3 text-center w-max-30c border\"><img className=\"w-8c h-8c border\" src={this.mediaPath} /></div>;\r\n            saveButton = <div className=\"px-1 \">\r\n                <div className=\"text-content text-center\">\r\n                    <button type=\"button\" className=\"btn btn-primary mx-2 col-11\" onClick={this.onAddSalesTask} >\r\n                        {this.t('save')}\r\n                    </button>\r\n                </div>\r\n            </div>;\r\n        }\r\n        else {\r\n            image = <div className=\"text-content text-center\">\r\n                <button className=\"btn btn-primary\" onClick={this.onUpload}>\r\n                    {this.t('uploadpicture')}\r\n                </button>\r\n            </div>;\r\n        }\r\n\r\n        return <Page header={this.t('editorpicture')} headerClassName={consts.headerClass}>\r\n            <div className=\"mx-3\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={this.media}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n            {image}\r\n            {saveButton}\r\n        </Page>\r\n    })\r\n}","import { AppConfig } from \"tonva\";\r\nimport logo from \"../src/static/images/logo.png\";\r\nexport const appConfig: AppConfig = {\r\n    appName: \"百灵威系统工程部/webBuilder\",\r\n    version: \"1.0.10\",\r\n    tvs: {},\r\n    oem: \"百灵威\"\r\n};\r\n\r\nexport const setting = {\r\n    appName: \"内容管理\",\r\n    url: \"http://agent.jkchemical.com\",\r\n    carturl: \"http://shop.jkchemical.com\",\r\n    downloadAppurl: \"http://agent.jkchemical.com/download/jk-agent.apk\",\r\n    sharelogo: \"https://agent.jkchemical.com/sharelogo.png\",\r\n    logo: logo,\r\n    pageHeaderCss: \"bg-primary py-1\",\r\n    appUrlDomain: \"cs.jkchemical.com\",\r\n    previewUrl: \"https://web.jkchemical.com\"\r\n    // sales: undefined as Sales,\r\n};\r\n\r\n// 生产配置\r\nconst GLOABLE_PRODUCTION = {\r\n    CHINA: 44,\r\n    CHINESE: 196,\r\n    SALESREGION_CN: 1\r\n};\r\n\r\n// 测试环境配置\r\nconst GLOABLE_TEST = {\r\n    CHINA: 43,\r\n    CHINESE: 197,\r\n    SALESREGION_CN: 4\r\n};\r\n\r\n// export { GLOABLE_PRODUCTION as GLOABLE };\r\nexport { GLOABLE_TEST as GLOABLE };\r\n","import * as React from 'react';\r\nimport { CMe } from './CMe';\r\nimport { VPage, Page, Prop, PropGrid, nav } from 'tonva';\r\nimport { observer } from 'mobx-react';\r\nimport { appConfig, setting } from 'configuration';\r\nimport { consts } from 'consts';\r\n\r\nexport class VSetDetails extends VPage<CMe> {\r\n    async open() {\r\n        this.openPage(this.page)\r\n    }\r\n\r\n    private logout = () => {\r\n        nav.showLogout();\r\n    }\r\n\r\n    private changePassword = async () => {\r\n        await nav.changePassword();\r\n    }\r\n\r\n\r\n    private page = observer(() => {\r\n        let rows: Prop[] = [\r\n            '',\r\n            {\r\n                type: 'component',\r\n                component: <div className=\"bg-white p-2 mb-1 text-primary\">\r\n                    <span className=\"iconfont icon-yonggongzongliang\" style={{ fontSize: '24px', verticalAlign: 'middle' }}></span> {this.t('account')}\r\n                </div>,\r\n                // onClick: this.controller.showAccount\r\n            },\r\n            '',\r\n            {\r\n                type: 'component',\r\n                component: <div className=\"bg-white p-2 mb-1 text-primary\">\r\n                    <span className=\"iconfont icon-mima\" style={{ fontSize: '24px', verticalAlign: 'middle' }}></span> {this.t('password')}\r\n                </div>,\r\n                onClick: this.changePassword\r\n            },\r\n            '',\r\n            {\r\n                type: 'component',\r\n                component: <div className=\"text-primary w-100 d-flex p-2 justify-content-between\" onClick={() => this.controller.showAbout()}>\r\n                    <div>\r\n                        <i className=\"iconfont icon-guanyu text-primary \" style={{ fontSize: \"20px\", color: \"#2aa515\" }}></i> {this.t('about')}{setting.appName}\r\n                    </div>\r\n                    <div className=\"py-2 small text-muted\">V {appConfig.version}</div>\r\n                </div>,\r\n            },\r\n            '',\r\n            {\r\n                type: 'component',\r\n                component: <div className=\"bg-white p-2 mb-1 text-center col-12\" onClick={this.logout}>\r\n                    <span>{this.t('logout')}</span>\r\n\r\n                </div>,\r\n            },\r\n            ''\r\n        ];\r\n        return <Page header={this.t('set')} headerClassName={consts.headerClass}>\r\n            <PropGrid rows={rows} values={{}} />\r\n        </Page>\r\n    })\r\n}","import * as React from 'react';\r\nimport { VPage, Page, nav } from 'tonva';\r\nimport { CMe } from './CMe';\r\nimport { setting, appConfig } from '../configuration';\r\n\r\nexport class VAbout extends VPage<CMe> {\r\n\r\n    private version: any;\r\n    async open() {\r\n        // this.version = await nav.checkVersion();\r\n        this.openPage(this.page);\r\n    }\r\n    private page = () => {\r\n        // let { appName, logo } = setting.sales;\r\n        let header: any = <div>{this.t('about')}{setting.appName}</div>\r\n        // let links: any = <div className=\"sep-product-select\" style={{ width: \"80%\", margin: \" 0 auto 0 auto\" }} />\r\n        return <Page header={header} headerClassName={setting.pageHeaderCss} >\r\n            <div className=\"bg-white text-center\" style={{ height: '100%' }} >\r\n                <div className=\"h3 flex-fill text-center mb-3\">\r\n                    <img src={setting.logo} alt=\"\" className=\"mt-5\" style={{ width: '17%' }} />\r\n                </div>\r\n                <div className=\" h5 flex-fill text-center m-2\">\r\n                    <strong><span className=\"mr-3\">{setting.appName} APP</span></strong>\r\n                </div>\r\n                <div className=\"flex-fill text-center mb-5\">\r\n                    <span className=\"text-muted mr-3\">{this.t('version')} {appConfig.version}</span>\r\n                </div>\r\n                {/* {\r\n                    (this.version && this.version !== appConfig.version) && <>\r\n                        {links}\r\n                        < div className=\"d-flex my-3 cursor-pointer\" style={{ width: \"70%\", margin: \" 0 auto 0 auto\" }} onClick={() => nav.resetAll()} >\r\n                            <div className=\"text-danger\">发现新版本 {this.version}，升级APP</div>\r\n                        </div>\r\n                        {links}\r\n                    </>\r\n                } */}\r\n\r\n                <div className=\"small text-muted text-center\" style={{ width: \"100%\", position: \"absolute\", bottom: \"4%\" }} >\r\n                    <div className=\"py-2 h6 text-primary small\">《{this.t('privacypolicy')}》</div>\r\n                </div>\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import _ from \"lodash\";\r\nimport { CUqBase } from \"../CBase\";\r\nimport { VMe } from \"./VMe\";\r\nimport { observer } from \"mobx-react\";\r\nimport { observable, isObservable } from \"mobx\";\r\nimport { PageItems, Query, nav } from \"tonva\";\r\nimport { VCompileImg } from \"./VCompileImg\";\r\nimport { VSetDetails } from \"./VSetDetails\";\r\nimport { VAbout } from \"./VAbout\";\r\n\r\nclass PageMedia extends PageItems<any> {\r\n    private searchMediaQuery: Query;\r\n    constructor(searchQuery: Query) {\r\n        super();\r\n        this.firstSize = this.pageSize = 14;\r\n        this.searchMediaQuery = searchQuery;\r\n    }\r\n\r\n    protected async load(\r\n        param: any,\r\n        pageStart: any,\r\n        pageSize: number\r\n    ): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.searchMediaQuery.page(param, pageStart, pageSize);\r\n        return ret;\r\n    }\r\n    protected setPageStart(item: any): any {\r\n        this.pageStart = item === undefined ? 0 : item.id;\r\n    }\r\n}\r\n\r\nexport class CMe extends CUqBase {\r\n    @observable pageMedia: PageMedia;\r\n    @observable items: any[];\r\n    @observable current: any;\r\n    @observable PostTotal: any = 0;\r\n    @observable PageTotal: any = 0;\r\n    @observable pagePosts: any[];\r\n\r\n    searchMadiaKey = async (key: string) => {\r\n        this.pageMedia = new PageMedia(this.uqs.webBuilder.SearchImage);\r\n        this.pageMedia.first({ key: key });\r\n    };\r\n    protected async internalStart() { }\r\n\r\n    onSet = () => {\r\n        this.openVPage(VSetDetails);\r\n    };\r\n\r\n    showAbout = () => {\r\n        this.openVPage(VAbout);\r\n    };\r\n\r\n    loadList = async () => {\r\n        // post用浏览量\r\n        let postTotal = await this.uqs.webBuilder.SearchTotalBrowsing.query({});\r\n        \r\n        if (postTotal.ret.length && (postTotal.ret.length > 0)) {\r\n            console.log(1)\r\n            this.PostTotal = postTotal.ret[0].PostTotal;\r\n            console.log(this.PostTotal, 777)\r\n        }\r\n\r\n        // page用户总浏览量\r\n        let pageTotal = await this.uqs.webBuilder.SearchTotalBrowsing.query({});\r\n        if (pageTotal.ret.length && (pageTotal.ret.length > 0)) {\r\n            this.PageTotal = pageTotal.ret[0].PageTotal;\r\n        }\r\n    };\r\n\r\n    onAlterImg = () => {\r\n        this.current = undefined;\r\n        this.openVPage(VCompileImg);\r\n    };\r\n\r\n    saveItem = async (id: any, param: any) => {\r\n        param.author = this.user.id;\r\n        let ret = await this.uqs.webBuilder.Image.save(id, param);\r\n        if (id) {\r\n            let item = this.items.find(v => v.id === id);\r\n            if (item !== undefined) {\r\n                _.merge(item, param);\r\n                item.$update = new Date();\r\n            }\r\n            this.current = item;\r\n        } else {\r\n            param.id = ret.id;\r\n            param.$create = new Date();\r\n            param.$update = new Date();\r\n            this.items.unshift(param);\r\n            this.current = param;\r\n        }\r\n        this.searchMadiaKey(\"\");\r\n    };\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VMe);\r\n    });\r\n    tab = () => this.renderView(VMe);\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, TabCaptionComponent, Page, Tabs, Image } from 'tonva';\r\nimport { CApp } from '../CApp';\r\nconst color = (selected: boolean) => selected === true ? 'text-primary' : 'text-muted';\r\nexport class VMain extends VPage<CApp> {\r\n    async open(param?: any) {\r\n        this.openPage(this.render);\r\n    }\r\n    // opensrc = () => {\r\n    //     window.open(setting.downloadAppurl);\r\n    // }\r\n\r\n    render = (param?: any): JSX.Element => {\r\n        let { cMe, cPosts, cMedia, cPage } = this.controller;\r\n        let faceTabs = [\r\n            { name: 'home', label: this.t('post'), icon: 'tasks', content: cPosts.tab, onShown: cPosts.loadList, notify: undefined/*store.homeCount*/ },\r\n            { name: 'picture-o', label: this.t('picture'), icon: 'vcard', content: cMedia.tab, onShown: cMedia.loadList },\r\n            //{ name: 'templet', label: '模板', icon: 'vcard', content: cTemplets.tab, onShown: cTemplets.loadList },\r\n            { name: 'page', label: this.t('page'), icon: 'tasks', content: cPage.tab, onShown: cPage.loadList },\r\n            { name: 'me', label: this.t('me'), icon: 'user', content: cMe.tab, onShown: cMe.loadList },\r\n        ].map(v => {\r\n            let { name, label, icon, content, notify, onShown } = v;\r\n            return {\r\n                name: name,\r\n                caption: (selected: boolean) => TabCaptionComponent(label, icon, color(selected)),\r\n                content: content,\r\n                notify: notify,\r\n                onShown: onShown,\r\n\r\n            }\r\n        });\r\n        return <Page header={false} headerClassName={\"bg-info\"} >\r\n            <Tabs tabs={faceTabs} />\r\n        </Page>;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { CPage } from './CPage';\r\nimport { consts } from 'consts';\r\nimport { observer } from 'mobx-react';\r\nimport { VPage, Page, FA, List, Tuid, User, UserView, EasyTime, LMR } from 'tonva';\r\n\r\nexport class VMain extends VPage<CPage> {\r\n    async open() {\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { onAdd, searchwebPage } = this.controller;\r\n        let right = <div onClick={onAdd}><span className=\"iconfont icon-jiahao1 mr-2 cursor-pointer\" style={{ fontSize: \"26px\", color: \"white\" }}></span></div>\r\n        return <Page header={this.t('page')} headerClassName={consts.headerClass} right={right} >\r\n            <List items={searchwebPage} item={{ render: this.renderItem }} />\r\n        </Page>;\r\n    });\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        return <this.itemRow {...item} />\r\n    }\r\n\r\n    private itemRow = observer((item: any) => {\r\n        let { author, name, $update, titel } = item;\r\n        let divUser = this.controller.cApp.renderUser(author.id);\r\n        return <div className=\"px-2 d-flex p-1 cursor-pointer\">\r\n            <div className=\"col-10 d-flex\" onClick={() => this.controller.showDetail(item.id)}>\r\n                <div>\r\n                    <b>{name}</b>\r\n                    <div className=\"small py-1 text-muted \">{titel}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"small col-2 text-muted text-right px-0\">\r\n                <button\r\n                    style={{ fontWeight: 550, padding: '0 5px', fontSize: '12px' }} className=\"mt-2 btn btn-outline-primary\"\r\n                    onClick={() => this.controller.onPreviewPage(item.id)}\r\n                >{this.t('preview')}\r\n                </button>\r\n                <div className=\" small pt-1 text-truncate\">{divUser}</div>\r\n                <div className=\" small\"><EasyTime date={$update} /></div>\r\n            </div>\r\n        </div>\r\n    });\r\n}","import * as React from 'react';\r\nimport { CPage } from './CPage';\r\nimport { consts } from 'consts';\r\nimport { observer } from 'mobx-react';\r\nimport { VPage, Page, Form, UiSchema, UiInputItem, UiIdItem, Schema, Context, tv } from 'tonva';\r\n\r\nexport class VEditPage extends VPage<CPage> {\r\n    private form: Form;\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onClickSaveButton = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { current } = this.controller;\r\n        let id = current && current.id;\r\n        await this.controller.saveItem(id, context.form.data);\r\n        this.closePage();\r\n    }\r\n\r\n    private templateContent = (boxId: any) => {\r\n        return tv(boxId, (values) => {\r\n            let { caption } = values;\r\n            return <>{caption}</>;\r\n        });\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            titel: { widget: 'text', label: this.t('titel') },\r\n\r\n            discription: {\r\n                widget: 'textarea', label: this.t('describe'), placeholder: this.t('describe'), rows: 3\r\n            } as UiInputItem,\r\n\r\n            name: {\r\n                widget: 'textarea', label: this.t('name'), placeholder: this.t('name'), rows: 3\r\n            } as UiInputItem,\r\n\r\n            template: {\r\n                widget: 'id', label: this.t('templete'), pickId: this.controller.pickTemplate, Templet: this.templateContent\r\n            } as UiIdItem,\r\n\r\n            submit: { widget: 'button', label: this.t('submit') }\r\n        }\r\n    };\r\n\r\n    private schema: Schema = [\r\n        { name: 'titel', type: 'string', required: true },\r\n        { name: 'discription', type: 'string', required: true },\r\n        { name: 'name', type: 'string', required: true },\r\n        { name: 'template', type: 'id', required: true },\r\n    ];\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { current } = this.controller;\r\n        return <Page header={this.t('editorpage')} headerClassName={consts.headerClass}>\r\n            <div className=\"mx-3\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={current}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n            <div className=\"px-1 \">\r\n                <div className=\"text-content\" style={{ textAlign: \"center\" }}>\r\n                    <button type=\"button\" className=\"btn btn-primary mx-2\"\r\n                        onClick={this.onClickSaveButton} >{this.t('submit')}</button>\r\n                </div>\r\n            </div>\r\n        </Page>\r\n    })\r\n}","import * as React from 'react';\r\nimport { consts } from 'consts';\r\nimport { CPage } from \"./CPage\";\r\nimport { observer } from 'mobx-react';\r\nimport { VEditPage } from './VEditPage';\r\nimport { VPage, Page, LMR, tv, EasyTime, UserView, FA, User, Tuid, List } from \"tonva\";\r\n\r\nexport class VShowPage extends VPage<CPage> {\r\n\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n    private page = observer(() => {\r\n        let { current, onRedact, itemsModule, onCommonalityModule, ondisplay, lock } = this.controller;\r\n        let { titel, name, author, template, discription, $create, $update } = current;\r\n        const sortItemsModule = itemsModule.sort(function (m, n) {\r\n            if (m.sort < n.sort) return -1\r\n            else if (m.sort > n.sort) return 1\r\n            else return 0\r\n        });\r\n        let date = <span><EasyTime date={$update} /></span>;\r\n        let isMe = Tuid.equ(author, this.controller.user.id);\r\n        let addModule = <div className=\"d-flex\" style={{ color: '#0066cc' }}>\r\n            <div onClick={() => onCommonalityModule()}><span className=\"iconfont icon-tubiao106 mr-2\" style={{ fontSize: \"24px\" }}></span></div>\r\n            <div onClick={onRedact}><span className=\"iconfont icon-icon--tianjia mr-2\" style={{ fontSize: \"24px\" }}></span></div>\r\n        </div>\r\n        let right = isMe && <div onClick={() => this.openVPage(VEditPage)}><span className=\"iconfont icon-xiugai1 mr-2\" style={{ fontSize: \"26px\", color: \"white\" }}></span></div>\r\n\r\n        let divUser = this.controller.cApp.renderUser(author.id);\r\n        return <Page header={name} headerClassName={consts.headerClass} right={right}>\r\n            <div className=\"px-3 pt-2 pb-0\">\r\n                <div className=\"small text-muted p-1\">{this.t('titel')} :</div>\r\n                <div className=\"mb-1 h6 px-3 py-2 bg-white\">{titel}</div>\r\n                <LMR className=\"mb-3 px-3 small text-black-50\" right={date}>\r\n                    {divUser}\r\n                </LMR>\r\n                <div className=\"small text-muted p-1\" >{this.t('describe')}:</div>\r\n                <LMR className=\"mb-3 bg-white px-3 h6\">\r\n                    <div className=\"py-2\">{discription}</div>\r\n                </LMR>\r\n                <div className=\"small text-muted p-1\" >{this.t('name')} :</div>\r\n                <pre className=\"mb-3 px-3 py-4 bg-white h6 border\">{name}</pre>\r\n                <div className=\"small text-muted p-1\">{this.t('templete')}:</div>\r\n                <div className=\" px-3 py-2 bg-white h6\">\r\n                    {tv(template, (values) => <>{values.caption}</>, undefined, () => <small className=\"text-muted\" >[无]</small>)}\r\n                </div>\r\n            </div>\r\n            <LMR className=\"px-3 h6\" right={addModule}>\r\n                <div className=\"mt-2 h6 mb-0\" style={{ color: '#0066cc' }} onClick={() => ondisplay()}>\r\n                    {this.t('mymodule')}\r\n                    <i className=\"iconfont icon-jiantouarrow483\"></i>\r\n                </div>\r\n            </LMR>\r\n            {\r\n                lock ?\r\n                    (itemsModule.length > 0 ? <List items={sortItemsModule} item={{ render: this.renderItem }} /> : <span className=\"pl-3\">[无，请添加]</span>)\r\n                    : <></>\r\n            }\r\n        </Page>;\r\n    })\r\n    private itemClick = (item: any) => {\r\n        console.log(item, 'item')\r\n        this.controller.showDetailModule(item);\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        return <this.itemRow {...item} />\r\n    }\r\n\r\n    private itemRow = observer((item: any) => {\r\n        let { sort, content } = item;\r\n        return <div className=\"px-3 pr-4 py-1 d-flex col-12\" style={{ borderBottom: '1px dashed #dee2e6' }}>\r\n            <div className=\"col-11\" onClick={() => this.itemClick(item)}>\r\n                <div className=\"text-muted\">{this.t('module')}：{sort}</div>\r\n                <div className=\"text-truncate\" style={{ height: '20px' }}>{this.t('content')}：{content}</div>\r\n            </div>\r\n            <div className=\"px-0 col-1 text-right mr-1\">\r\n                <i className=\"iconfont icon-shanchu\" style={{ fontSize: '25px', color: '#009900' }} onClick={() => this.controller.onRemove(item.id)}></i>\r\n            </div>\r\n        </div>;\r\n    });\r\n}","import * as React from 'react';\r\nimport { VPage, Page, LMR, UserView, FA, User, Tuid, List, SearchBox } from \"tonva\";\r\nimport { observer } from 'mobx-react';\r\nimport { CPage } from './CPage';\r\n\r\nexport class VPickTemplate extends VPage<CPage> {\r\n\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pageTemplate, searchTemplateKey } = this.controller;\r\n\r\n        let right = <SearchBox className=\"w-80 mt-2 mr-2\"\r\n            size='sm'\r\n            onSearch={(key: string) => searchTemplateKey(key)}\r\n            placeholder={this.t('templete')} />;\r\n\r\n        return <Page header={this.t('selecttemplate')} back=\"close\" right={right} onScrollBottom={this.onScrollBottom} >\r\n            <List items={pageTemplate} item={{ render: this.renderItem, onClick: this.itemClick }} />\r\n        </Page>\r\n    });\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pageTemplate.more();\r\n    }\r\n\r\n    private itemClick = (item: any) => {\r\n        this.controller.onPickedTemplate(item.id);\r\n    };\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        return <this.itemRow {...item} />\r\n    };\r\n\r\n    private itemRow = observer((item: any) => {\r\n        let { caption, author } = item;\r\n        let divUser = this.controller.cApp.renderUser(author.id);\r\n        return <LMR className=\"px-3 py-2 text-muted border bg-white\" right={divUser}>\r\n            <b>{caption}</b>\r\n        </LMR>;\r\n    });\r\n}\r\n","import * as React from 'react';\r\nimport { CPage } from './CPage';\r\nimport { consts } from 'consts';\r\nimport { observer } from 'mobx-react';\r\nimport { VPage, Page, Form, UiSchema, UiInputItem, Schema, Context, Widget, UiCustom } from 'tonva';\r\nimport { observable } from 'mobx';\r\n\r\n\r\nclass Discount extends Widget {\r\n    @observable dateVisible = false;\r\n    private list = [\r\n        { value: 1, title: '私有', name: 'a', checked: true },\r\n        { value: 0, title: '公有', name: 'a', checked: false },\r\n    ];\r\n\r\n    private onChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\r\n        let val = evt.currentTarget.value;\r\n        this.dateVisible = val === '0';\r\n        this.setValue(val);\r\n    }\r\n\r\n    render = () => {\r\n        return <div className=\"form-control\" style={{ height: 'auto' }}>\r\n            {this.list.map((v, index) => {\r\n                let { value, name, title } = v;\r\n                return <label key={index} className=\"my-1 mx-3\">\r\n                    <input type=\"radio\" value={value}\r\n                        name={name} defaultChecked={value === this.value}\r\n                        onChange={this.onChange} /> {title} &nbsp; </label>\r\n            })}\r\n        </div>\r\n    };\r\n}\r\n\r\nexport class VResacModule extends VPage<CPage> {\r\n    private form: Form;\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onClickSaveButton = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    };\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { currentModule } = this.controller;\r\n        let id = currentModule && currentModule.id;\r\n        await this.controller.saveItemModule(id, context.form.data);\r\n        await this.controller.onAddMap()\r\n        this.closePage();\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            content: {\r\n                widget: 'textarea', label: this.t('content'), placeholder: this.t('content'), rows: 10\r\n            } as UiInputItem,\r\n            sort: {\r\n                widget: 'updown', label: this.t('sort'), placeholder: this.t('sort')\r\n            } as UiInputItem,\r\n            branchType: {\r\n                widget: 'custom',\r\n                label: this.t('pleaseselect'),\r\n                WidgetClass: Discount,\r\n                defaultValue: \"1\",\r\n            } as UiCustom,\r\n            submit: { widget: 'button', label: this.t('submit') }\r\n        }\r\n    };\r\n\r\n    private schema: Schema = [\r\n        { name: 'content', type: 'string', required: true },\r\n        { name: 'sort', type: 'number', required: true },\r\n        { name: 'branchType', type: 'number', required: true },\r\n    ];\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { currentModule } = this.controller;\r\n        console.log(currentModule, 'currentModule')\r\n        return <Page header={this.t('editorsubmodule')} headerClassName={consts.headerClass}>\r\n            <div className=\"mx-3\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={currentModule}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n            <div className=\"px-1 \">\r\n                <div className=\"text-content\" style={{ textAlign: \"center\" }}>\r\n                    <button type=\"button\" className=\"btn btn-primary mx-2\"\r\n                        onClick={this.onClickSaveButton} >{this.t('submit')}</button>\r\n                </div>\r\n            </div>\r\n        </Page>\r\n    })\r\n}","import * as React from 'react';\r\nimport { VPage, Page, LMR, tv, EasyTime, UserView, FA, User, Tuid, List, SearchBox } from \"tonva\";\r\nimport { observer } from 'mobx-react';\r\nimport { CPage } from './CPage';\r\nimport { consts } from 'consts';\r\n\r\nexport class VPickBranch extends VPage<CPage> {\r\n\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { searchBranch, searchBranchKey } = this.controller;\r\n        let right = <SearchBox className=\"w-80 mt-2 mr-2\"\r\n            size='sm'\r\n            onSearch={(key: string) => searchBranchKey(key)}\r\n            placeholder={this.t('templete')} />;\r\n\r\n        return <Page header={this.t('selecttemplate')} headerClassName={consts.headerClass} back=\"close\" right={right} onScrollBottom={this.onScrollBottom} >\r\n            <List items={searchBranch} item={{ render: this.renderItem, onClick: this.itemClick }} />\r\n        </Page>\r\n    });\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.searchBranch.more();\r\n    }\r\n\r\n    private itemClick = (item: any) => {\r\n        this.controller.onPickedBranch(item.id);\r\n    };\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        return <this.itemRow {...item} />\r\n    };\r\n\r\n    private itemRow = observer((item: any) => {\r\n        let { content } = item;\r\n\r\n        return <div className=\"px-3 py-2 text-muted col-12 border bg-white\">\r\n            <div className=\"  \" style={{ height: '50px', overflow: 'auto' }}>\r\n                {content}\r\n            </div>\r\n        </div>\r\n    });\r\n}\r\n","import _ from \"lodash\";\r\nimport * as React from \"react\";\r\nimport { VMain } from \"./VMain\";\r\nimport { observable } from \"mobx\";\r\nimport { CUqBase } from \"../CBase\";\r\nimport { observer } from \"mobx-react\";\r\nimport { VShowPage } from \"./VShowPage\";\r\nimport { VEditPage } from \"./VEditPage\";\r\nimport { VPickTemplate } from \"./VPickTemplate\";\r\nimport { Context, QueryPager } from \"tonva\";\r\nimport { VResacModule } from \"./VRedactModule\";\r\nimport { VPickBranch } from \"./VPinkBranch\";\r\n\r\nexport class CPage extends CUqBase {\r\n    @observable pageTemplate: QueryPager<any>;\r\n    @observable searchBranch: QueryPager<any>;\r\n    @observable searchwebPage: QueryPager<any>;\r\n    @observable items: any[];\r\n    @observable itemsModule: any[];\r\n    @observable currentModule: any;\r\n    @observable current: any;\r\n    @observable lock: boolean = false;\r\n\r\n    protected async internalStart(param: any) {}\r\n\r\n    /* 网页查询*/\r\n    searchPageKey = async (key: string, author: any) => {\r\n        this.searchwebPage = new QueryPager(\r\n            this.uqs.webBuilder.SearchWebPage,\r\n            15,\r\n            30\r\n        );\r\n        this.searchwebPage.first({ key: key, author: author });\r\n    };\r\n\r\n    // 模板查询\r\n    searchTemplateKey = async (key: string) => {\r\n        this.pageTemplate = new QueryPager(\r\n            this.uqs.webBuilder.SearchTemplate,\r\n            15,\r\n            30\r\n        );\r\n        this.pageTemplate.first({ key: key });\r\n    };\r\n\r\n    // 子模板查询\r\n    searchBranchKey = async (key: string) => {\r\n        this.searchBranch = new QueryPager(\r\n            this.uqs.webBuilder.SearchBranch,\r\n            15,\r\n            30\r\n        );\r\n        this.searchBranch.first({ key: key });\r\n    };\r\n\r\n    // 保存网页\r\n    saveItem = async (id: number, param: any) => {\r\n        param.author = this.user.id;\r\n        let ret = await this.uqs.webBuilder.WebPage.save(id, param);\r\n        if (id) {\r\n            let item = this.items.find(v => v.id === id);\r\n            if (item !== undefined) {\r\n                _.merge(item, param);\r\n                item.$update = new Date();\r\n            }\r\n            this.current = item;\r\n            this.closePage();\r\n        } else {\r\n            param.id = ret.id;\r\n            param.$create = new Date();\r\n            param.$update = new Date();\r\n            this.items.unshift(param);\r\n            this.current = param;\r\n        }\r\n        this.searchPageKey(\"\", 0);\r\n    };\r\n\r\n    // 保存模块\r\n    saveItemModule = async (id: number, param: any) => {\r\n        param.author = this.user.id;\r\n        let ret = await this.uqs.webBuilder.Branch.save(id, param);\r\n        if (id) {\r\n            let item = this.itemsModule.find(v => v.id === id);\r\n            if (item !== undefined) {\r\n                _.merge(item, param);\r\n                item.$update = new Date();\r\n            }\r\n            this.currentModule = item;\r\n        } else {\r\n            param.id = ret.id;\r\n            param.$create = new Date();\r\n            param.$update = new Date();\r\n            this.itemsModule.unshift(param);\r\n            this.currentModule = param;\r\n        }\r\n        this.searchBranchKey(\"\");\r\n    };\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VMain);\r\n    });\r\n\r\n    // 添加网页\r\n    onAdd = () => {\r\n        this.current = undefined;\r\n        this.openVPage(VEditPage);\r\n    };\r\n\r\n    // 添加子模块\r\n    onRedact = () => {\r\n        this.currentModule = undefined;\r\n        this.openVPage(VResacModule);\r\n    };\r\n\r\n    onPickedTemplate = (id: number) => {\r\n        this.closePage();\r\n        this.returnCall(this.uqs.webBuilder.Template.boxId(id));\r\n    };\r\n\r\n    onPreviewPage = (id: number) => {\r\n        window.open(\r\n            \"https://c.jkchemical.com/webBuilder/webpage/\" + id,\r\n            \"_blank\"\r\n        );\r\n    };\r\n\r\n    // 网页模板\r\n    pickTemplate = async (\r\n        context: Context,\r\n        name: string,\r\n        value: number\r\n    ): Promise<any> => {\r\n        this.searchTemplateKey(\"\");\r\n        return await this.vCall(VPickTemplate);\r\n    };\r\n\r\n    loadList = async () => {\r\n        this.searchPageKey(\"\", 0);\r\n        this.items = await this.uqs.webBuilder.WebPage.search(\"\", 0, 100);\r\n    };\r\n\r\n    // 公共关联模块\r\n    onCommonalityModule = async () => {\r\n        this.searchBranchKey(\"\");\r\n        this.openVPage(VPickBranch);\r\n    };\r\n\r\n    ondisplay = () => {\r\n        if (this.lock) {\r\n            this.lock = false;\r\n        } else {\r\n            this.lock = true;\r\n        }\r\n    };\r\n\r\n    // 删除私有模块\r\n    onRemove = async (id: number) => {\r\n        await this.uqs.webBuilder.WebPageBranch.del({\r\n            webPage: this.current.id,\r\n            arr1: [{ branch: id }]\r\n        });\r\n        let result = await this.uqs.webBuilder.SearchPrivateBranch.query({\r\n            _page: this.current.id\r\n        });\r\n        this.itemsModule = result.ret;\r\n    };\r\n\r\n    // 选择公共模块\r\n    onPickedBranch = async (id: number) => {\r\n        await this.uqs.webBuilder.WebPageBranch.add({\r\n            webPage: this.current.id,\r\n            arr1: [{ branch: id, sort: 0 }]\r\n        });\r\n        let result = await this.uqs.webBuilder.SearchPrivateBranch.query({\r\n            _page: this.current.id\r\n        });\r\n        this.itemsModule = result.ret;\r\n        this.closePage();\r\n    };\r\n\r\n    // 显示网页详情\r\n    showDetail = async (id: number) => {\r\n        this.current = await this.uqs.webBuilder.WebPage.load(id);\r\n        let result = await this.uqs.webBuilder.SearchPrivateBranch.query({\r\n            _page: id\r\n        });\r\n        this.itemsModule = result.ret;\r\n        console.log(this.itemsModule.length, \"this.itemsModule\");\r\n\r\n        this.openVPage(VShowPage);\r\n    };\r\n\r\n    // 显示模块详情\r\n    showDetailModule = async (itme: any) => {\r\n        this.currentModule = itme;\r\n        this.openVPage(VResacModule);\r\n    };\r\n\r\n    // 添加子模块\r\n    onAddMap = async () => {\r\n        await this.uqs.webBuilder.WebPageBranch.add({\r\n            webPage: this.current.id,\r\n            arr1: [\r\n                { branch: this.currentModule.id, sort: this.currentModule.sort }\r\n            ]\r\n        });\r\n    };\r\n    //：{ key1: key1值, arr1:[{key2: key2值}]\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    };\r\n}\r\n","import * as React from \"react\";\r\nimport { consts } from \"consts\";\r\nimport { observer } from \"mobx-react\";\r\nimport { VPage, Page, FA, List, EasyTime, tv, SearchBox } from \"tonva\";\r\nimport { CPosts } from \"./CPosts\";\r\nimport classNames from \"classnames\";\r\nimport { observable } from \"mobx\";\r\n\r\nexport class VMain extends VPage<CPosts> {\r\n\t@observable private isMe:boolean = true;\r\n\r\n    async open() { }\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />;\r\n    }\r\n\r\n    //onBtn = () => {\r\n\t\t/*\r\n        if (this.controller.flg) {\r\n            this.controller.flg = false;\r\n            this.controller.loadList();\r\n        } else {\r\n            this.controller.flg = true;\r\n            this.controller.loadList();\r\n\t\t}\r\n\t\t*/\r\n\t\t//this.controller.isMe = !this.controller.isMe;\r\n\t\t//this.controller.loadList();\r\n\t//};\r\n\t\r\n\tprivate onMeAll = (evt: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tthis.isMe = evt.currentTarget.value === 'me';\r\n\t\t//this.controller.changeMeAll();\r\n\t\tthis.controller.setMe(this.isMe)\r\n\t}\r\n\r\n\tprivate renderMeAllToggle() {\r\n\t\tlet cnButton = ['btn', 'btn-outline-success', 'btn-sm', 'text-nowrap'];\r\n\t\treturn <div className=\"px-sm-2 d-flex align-items-center\">\r\n\t\t\t<div className=\"btn-group btn-group-toggle\" data-toggle=\"buttons\">\r\n\t\t\t\t<label className={classNames(cnButton, {active: this.isMe})}>\r\n\t\t\t\t\t<input type=\"radio\" name=\"options\" value=\"me\" defaultChecked={true} onChange={this.onMeAll} />\r\n\t\t\t\t\t<span className=\"d-inline d-sm-none\">{this.t('me-sm')}</span>\r\n\t\t\t\t\t<span className=\"d-none d-sm-inline\">{this.t('me')}</span>\r\n\t\t\t\t</label>\r\n\t\t\t\t<label className={classNames(cnButton, {active: !this.isMe})}>\r\n\t\t\t\t\t<input type=\"radio\" name=\"options\" value=\"all\" defaultChecked={false} onChange={this.onMeAll}/>\r\n\t\t\t\t\t<span className=\"d-inline d-sm-none\">{this.t('all-sm')}</span>\r\n\t\t\t\t\t<span className=\"d-none d-sm-inline\">{this.t('all')}</span>\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t}\r\n\r\n    private page = observer(() => {\r\n        let { pagePosts, onAdd, searchPostsKey } = this.controller;\r\n        let right = (\r\n            <div className=\"d-flex align-items-center\">\r\n\t\t\t\t{this.renderMeAllToggle()}\r\n                <SearchBox\r\n                    className=\"\"\r\n                    size=\"sm\"\r\n                    onSearch={(key: string) => searchPostsKey(key, \"\")}\r\n                    placeholder={this.t('searchpost')}\r\n                />\r\n                <div onClick={onAdd}>\r\n                    <span\r\n                        className=\"mx-sm-2 iconfont icon-jiahao1 cursor-pointer\"\r\n                        style={{ fontSize: \"1.7rem\", color: \"white\" }}\r\n                    ></span>\r\n                </div>\r\n            </div>\r\n        );\r\n        let none = (\r\n            <div className=\"my-3 mx-2\">\r\n                <span className=\"text-muted small\">[{this.t('noposts')}]</span>\r\n            </div>\r\n        );\r\n        return (\r\n            <Page\r\n                header={this.t('post')}\r\n                headerClassName={consts.headerClass}\r\n                right={right}\r\n                onScrollBottom={this.onScrollBottom}\r\n            >\r\n                <List\r\n                    before={\"\"}\r\n                    none={none}\r\n                    items={pagePosts}\r\n                    item={{ render: this.renderItem }}\r\n                />\r\n            </Page>\r\n        );\r\n    });\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pagePosts.more();\r\n    };\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        return <this.itemRow {...item} />;\r\n    };\r\n\r\n    private itemRow = observer((item: any) => {\r\n\t\tlet {user} = this.controller;\r\n        if (!user) return;\r\n        let { image, caption, discription, author, $update, $create, web, agent,assist,openweb } = item;\r\n\r\n\t\tlet $c:Date = $create, $u:Date = $update;\r\n\t\tlet updated: boolean = false;\r\n\t\tif ($c && $u) {\r\n\t\t\tlet now = Date.now(), create=$c.getTime(), update=$u.getTime();\r\n\t\t\tif (update === create) {\r\n\t\t\t\tupdated = false;\r\n\t\t\t}\r\n\t\t\telse if (now - create < 24*3600*1000) {\r\n\t\t\t\tupdated = true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet cYear = $c.getFullYear(), cMonth = $c.getMonth(), cDate = $c.getDate();\r\n\t\t\t\tlet uYear = $u.getFullYear(), uMonth = $u.getMonth(), uDate = $u.getDate();\r\n\t\t\t\tupdated = cYear !== uYear || cMonth !== uMonth || cDate !== uDate;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet divUser = user.id === author.id?\r\n\t\t\t<span className=\"text-warning\">[自己]</span>\r\n\t\t\t: \r\n\t\t\tthis.controller.cApp.renderUser(author.id);\r\n        return (\r\n            <div className=\"pl-2 pl-sm-3 pr-2 pr-sm-3 pt-2 pb-3 d-flex\">\r\n                <div\r\n                    className=\"d-flex flex-fill cursor-pointer\"\r\n                    onClick={() => this.controller.showDetail(item.id)}\r\n                >\r\n\t\t\t\t\t<div className=\"mr-3 w-5c w-min-5c h-5c h-min-5c\">\r\n                    {tv(\r\n                        image,\r\n\t\t\t\t\t\tvalues => <div className=\"w-100 h-100 bg-center-img h-max-6c border rounded\" \r\n\t\t\t\t\t\t\tstyle={{backgroundImage: 'url(' + values.path + ')'}}></div>,\r\n                        undefined, //w-6c h-4c mr-2 text-black-50 justify-content-center d-flex align-items-center\r\n                        () => (\r\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center h-100\r\n\t\t\t\t\t\t\t\tjustify-content-center bg-light border rounded\">\r\n                                <FA\r\n                                    className=\"text-info\"\r\n\t\t\t\t\t\t\t\t\tname=\"camera\"\r\n\t\t\t\t\t\t\t\t\tsize=\"lg\"\r\n                                />\r\n                            </div>\r\n                        )\r\n                    )}\r\n\t\t\t\t\t</div>\r\n                    <div className=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<div><b>{caption}</b></div>\r\n                        <div className=\"small pt-1 flex-fill\">{discription}</div>\r\n\t\t\t\t\t\t<div className=\"small pt-1 text-muted\">\r\n\t\t\t\t\t\t\t{divUser}\r\n\t\t\t\t\t\t\t&ensp;<EasyTime date={$create} />\r\n\t\t\t\t\t\t\t{updated === true && <>&ensp;<FA name=\"pencil-square-o\"/><EasyTime date={$update} /></>}       \r\n\t\t\t\t\t\t</div>\r\n                        <div className=\"small pt-1\" style={{  overflow: \"hidden\" }}>\r\n                            {(web+agent+assist+openweb)>0?<span  className=\"mr-1 text-muted\">发布：</span>:<></>}\r\n                            {web===1?<span className=\"mr-1 text-primary\">内部网</span>:<></>}\r\n                            {agent===1?<span className=\"mr-1 text-primary\">轻代理</span>:<></>}\r\n                            {assist===1?<span className=\"mr-1 text-primary\">销售员</span>:<></>}\r\n                            {openweb===1?<span className=\"mr-1 text-primary\">公开网</span>:<></>}\r\n                        </div>\r\n                    </div>\r\n                </div>        \r\n            </div>\r\n        );\r\n    });\r\n}\r\n/*\r\n<span className=\"d-none d-sm-inline\">&ensp;</span>\r\n{this.t('preview')}\r\n<span className=\"d-none d-sm-inline\">&ensp;</span>\r\n                    <div\r\n                        className=\"d-flex cursor-pointer justify-content-center\"\r\n                        onClick={e => this.onBtn()}\r\n                    >\r\n                        <strong className={classNames(\"small text-right\")}>\r\n                            {this.t('me')}\r\n                        </strong>\r\n                        <div\r\n                            className=\"mx-2\"\r\n                            style={{ width: \"40px\", height: \"18px\", backgroundColor: \"rgb(211, 209, 209)\",  borderRadius: \"20px\" }}\r\n                        >\r\n                            {this.controller.isMe ? (\r\n                                <div\r\n                                    style={{ border: \"1px solid #007bff\",  width: \"20px\", height: \"18px\", backgroundColor: \"#007bff\", borderRadius: \"100%\"}}\r\n                                ></div>\r\n                            ) : (\r\n                                    <div\r\n                                        style={{ border: \"1px solid #007bff\", width: \"20px\", height: \"18px\", backgroundColor: \"#007bff\", borderRadius: \"100%\" }}\r\n                                    ></div>\r\n                                )}\r\n                        </div>\r\n                        <strong className={classNames(\"small\")}>\r\n                            {this.t('all')}\r\n                        </strong>\r\n                    </div>\r\n\r\n*/\r\n","import * as React from 'react';\r\nimport _ from 'lodash';\r\nimport { CPosts } from \"./CPosts\";\r\nimport { VPage, Form, Context, UiSchema, Schema, Page, UiInputItem, UiIdItem, tv, Edit, ItemSchema } from \"tonva\";\r\nimport { observer } from 'mobx-react';\r\nimport { consts } from 'consts';\r\n\r\n\r\nexport class VEdit extends VPage<CPosts> {\r\n\tprivate form: Form;\r\n\tprivate textarea: HTMLTextAreaElement;\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onClickSaveButton = async () => {\r\n        //if (!this.form) return;\r\n\t\t//await this.form.buttonClick(\"submit\");\r\n\t\tlet {current} = this.controller;\r\n\t\tlet {id} = current;\r\n\t\tcurrent.content = this.textarea.value;\r\n        await this.controller.saveItem(id, current);\r\n        this.closePage();\r\n    }\r\n\r\n\tprivate onItemChanged = async (itemSchema: ItemSchema, newValue:any, preValue:any) => {\t\t\r\n\t}\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { current } = this.controller;\r\n        let id = current && current.id;\r\n        await this.controller.saveItem(id, context.form.data);\r\n        this.closePage();\r\n    }\r\n\r\n    private imageContent = (boxId: any) => {\r\n        return tv(boxId, (values) => {\r\n            let { caption } = values;\r\n            return <>{caption}</>;\r\n        });\r\n    }\r\n\r\n    private templateContent = (boxId: any) => {\r\n        return tv(boxId, (values) => {\r\n            let { caption } = values;\r\n            return <>{caption}</>;\r\n        });\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            caption: { widget: 'text', label: this.t('title') },\r\n\r\n            discription: {\r\n                widget: 'textarea', label: this.t('describe'), placeholder: this.t('describe'), rows: 3\r\n            } as UiInputItem,\r\n\r\n            content: {\r\n                widget: 'textarea', label: this.t('content'), placeholder: this.t('content'), rows: 8\r\n            } as UiInputItem,\r\n\r\n            image: {\r\n                widget: 'id', label: this.t('picture'), pickId: this.controller.pickImage, Templet: this.imageContent\r\n            } as UiIdItem,\r\n\r\n            template: {\r\n                widget: 'id', label: this.t('template'), pickId: this.controller.pickTemplate, Templet: this.templateContent\r\n\t\t\t} as UiIdItem,\r\n\r\n\t\t\tsubmit: { widget: 'button', label: this.t('submit') }\r\n        }\r\n    };\r\n\r\n    private schema: Schema = [\r\n        { name: 'caption', type: 'string', required: true },\r\n        { name: 'discription', type: 'string', required: false },\r\n        { name: 'image', type: 'id', required: true },\r\n        //{ name: 'content', type: 'string', required: true },\r\n        // { name: 'template', type: 'id', required: true },\r\n    ];\r\n    // ^.{3,6}$\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n\t\tlet { current } = this.controller;\r\n\t\tlet right = <button type=\"button\" \r\n\t\t\tclassName=\"btn btn-sm btn-success mr-3\"\r\n\t\t\tonClick={this.onClickSaveButton} >{this.t('submit')}</button>\r\n\r\n\t\treturn <Page header={this.t('editorpost')}\r\n\t\t\tright={right}\r\n\t\t\theaderClassName={consts.headerClass}>\r\n            <div className=\"mx-3 py-2 h-100 d-flex flex-column\">\r\n\t\t\t\t<textarea ref={tt => this.textarea=tt}\r\n\t\t\t\t\tclassName=\"flex-fill mb-2\" \r\n\t\t\t\t\tdefaultValue={current.content} />\r\n\t\t\t\t<Edit data={current}\r\n\t\t\t\t\tschema={this.schema}\r\n\t\t\t\t\tuiSchema={this.uiSchema}\r\n\t\t\t\t\tonItemChanged={this.onItemChanged}\r\n\t\t\t\t/>\r\n            </div>\r\n        </Page>\r\n    })\r\n}\r\n/*\r\n\r\n\r\n<Form ref={v => this.form = v} className=\"my-3\"\r\nformData={current}\r\nschema={this.schema}\r\nuiSchema={this.uiSchema}\r\nonButtonClick={this.onFormButtonClick}\r\nrequiredFlag={true}\r\n/>\r\n            <div className=\"px-1 \">\r\n                <div className=\"text-content\" style={{ textAlign: \"center\" }}>\r\n                    <button type=\"button\" className=\"btn btn-primary mx-2\"\r\n                        onClick={this.onClickSaveButton} >{this.t('submit')}</button>\r\n                </div>\r\n            </div>\r\n*/","import * as React from 'react';\r\nimport { VPage, Page, LMR, tv, EasyTime, Tuid, FA } from \"tonva\";\r\nimport { CPosts } from \"./CPosts\";\r\nimport { VEdit } from './VEdit';\r\nimport { observer } from 'mobx-react';\r\nimport { consts } from 'consts';\r\n\r\nexport class VShow extends VPage<CPosts> {\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { current, onShowRelease } = this.controller;\r\n        let { id, author, $update } = current;\r\n        let date = <span><EasyTime date={$update} /></span>;\r\n        let isMe = Tuid.equ(author, this.controller.user.id);\r\n        let edite = isMe && <button className=\"mr-2 btn btn-sm btn-success\" onClick={() => this.openVPage(VEdit)}>\r\n            <FA name=\"pencil-square-o\" /> {this.t('editor')}\r\n        </button>;\r\n        let right = <div className=\"d-flex align-items-center\">\r\n            {edite}\r\n            <button className=\"mr-2 btn btn-sm btn-info\" onClick={() => onShowRelease()}>\r\n                <FA name=\"external-link\" /> {this.t('publish')}\r\n            </button>\r\n        </div>;\r\n\r\n\t\t/*\r\n        let eidet = isMe && <span className=\"cursor-pointer iconfont icon-xiugai1 mr-2 text-white\" onClick={() => this.openVPage(VEdit)} style={{ fontSize: '1.7rem' }}></span>;\r\n        let right = <div>\r\n            {eidet}\r\n            <span className=\"cursor-pointer mx-3 text-white\" style={{ fontSize: '1.5rem' }} onClick={() => onShowRelease()}>\r\n                <FA name=\"send-o\" />\r\n            </span>\r\n\t\t</div>;\r\n\t\t*/\r\n        /**\r\n        let divUser = this.controller.cApp.renderUser(author.id);\r\n        let tvImage = tv(image, (values) => {\r\n        return <div className=\"border rounded p-2 mr-3\"><img className=\"w-4c h-4c\" src={values.path} /></div>;\r\n        }, undefined,\r\n        () => null);\r\n        **/\r\n        return <Page header={this.t('preview')} headerClassName={consts.headerClass} right={right}>\r\n            <div className=\"w-100 h-100\">\r\n                <iframe src={\"https://web.jkchemical.com/post/\" + id} className=\"border-0 w-100 h-100 overflow-hidden\"></iframe>\r\n            </div>\r\n        </Page>;\r\n    })\r\n}\r\n\r\n/**\r\n <div className=\"px-3\">\r\n    <LMR className=\"my-3 small text-black-50\" right={date}>\r\n        {divUser}\r\n    </LMR>\r\n    <LMR left={tvImage} right={<div className=\"ml-2 text-right\">\r\n        <button\r\n            className=\"btn btn-sm btn-outline-primary\"\r\n            onClick={() => this.controller.onPreviewPost(id)}\r\n        >\r\n            <FA name=\"tv\" />\r\n        </button>\r\n    </div>\r\n    }>\r\n        <div><b>{caption}</b></div>\r\n        <div>{discription}</div>\r\n    </LMR>\r\n    <pre className=\"my-3 px-3 py-4 bg-white border rounded\">{content}</pre>\r\n    <div className=\"text-center\">\r\n        <button className=\"btn btn-primary w-12c\" onClick={() => onShowRelease()}>\r\n            {this.t('publish')}\r\n        </button>\r\n    </div>\r\n</div>\r\n**/","import * as React from 'react';\r\nimport { VPage, Page, LMR, tv, EasyTime, UserView, FA, User, Tuid, List, SearchBox } from \"tonva\";\r\nimport { CPosts } from \"./CPosts\";\r\nimport { observer } from 'mobx-react';\r\nimport { consts } from 'consts';\r\n\r\nexport class VPickImage extends VPage<CPosts> {\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pageMedia, searchMadiaKey } = this.controller;\r\n        let right = <SearchBox className=\"w-80 mt-2 mr-2\"\r\n            size='sm'\r\n            onSearch={(key: string) => searchMadiaKey(key)}\r\n            placeholder={this.t('selectpicture')} />;\r\n\r\n        let none = <div className=\"my-3 mx-2 text-warning\">\r\n            <span className=\"text-primary\" > {this.t('nopicture')}！</span>\r\n        </div>;\r\n        return <Page headerClassName={consts.headerClass} header={this.t('selectpicture')} back=\"close\" right={right} onScrollBottom={this.onScrollBottom}>\r\n            <List\r\n                before={''}\r\n                none={none}\r\n                items={pageMedia}\r\n                item={{ render: this.renderItem, onClick: this.itemClick }}\r\n            />\r\n        </Page>\r\n    })\r\n\r\n    private itemClick = (item: any) => {\r\n        this.controller.onPickedImage(item.id);\r\n    };\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pageMedia.more();\r\n    };\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        return <this.itemRow {...item} />\r\n    };\r\n\r\n    private itemRow = observer((item: any) => {\r\n        let { caption, author, path } = item;\r\n        let right = this.controller.cApp.renderUser(author.id);\r\n        return <LMR className=\"px-3 py-2 b-1 border-bottom\" right={right}>\r\n            <b>{caption}</b>\r\n            <div className=\"small\">{path}</div>\r\n        </LMR>;\r\n    });\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, LMR, List, SearchBox } from \"tonva\";\r\nimport { CPosts } from \"./CPosts\";\r\nimport { observer } from 'mobx-react';\r\nimport { consts } from 'consts';\r\n\r\nexport class VPickTemplate extends VPage<CPosts> {\r\n\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pageTemplate, searchTemplateKey } = this.controller;\r\n\r\n        let right = <SearchBox className=\"w-80 mt-2 mr-2\"\r\n            size='sm'\r\n            onSearch={(key: string) => searchTemplateKey(key)}\r\n            placeholder={this.t('selecttemplate')} />;\r\n        let none = <div className=\"my-3 mx-2 text-warning\">\r\n            <span className=\"text-primary\" > {this.t('notemplate')}</span>\r\n        </div>;\r\n        return <Page\r\n            headerClassName={consts.headerClass}\r\n            header={this.t('selectpicture')}\r\n            back=\"close\"\r\n            right={right}\r\n            onScrollBottom={this.onScrollBottom}\r\n        >\r\n            <List\r\n                before={''} none={none}\r\n                items={pageTemplate}\r\n                item={{ render: this.renderItem, onClick: this.itemClick }}\r\n            />\r\n        </Page>\r\n    });\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pageTemplate.more();\r\n    }\r\n\r\n    private itemClick = (item: any) => {\r\n        this.controller.onPickedTemplate(item.id);\r\n    };\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        return <this.itemRow {...item} />\r\n    };\r\n\r\n    private itemRow = observer((item: any) => {\r\n        let { caption, author } = item;\r\n        let divUser = this.controller.cApp.renderUser(author.id);\r\n        let right = <div className=\"small text-muted text-right \">\r\n            <div>{divUser}</div>\r\n        </div>;\r\n        return <LMR className=\"px-3 py-2 text-muted border-bottom bg-white\" right={right}>\r\n            <b>{caption}</b>\r\n        </LMR>;\r\n    });\r\n}\r\n","import * as React from 'react';\r\nimport { CPosts } from './CPosts';\r\nimport { VPage, Page, Widget, UiSchema, UiCustom, Form, Schema, Context, setRes } from 'tonva';\r\nimport { consts } from 'consts';\r\nimport { observable } from 'mobx';\r\nimport _ from \"lodash\"\r\nimport { VReleaseProduct } from './VReleaseProduct';\r\n\r\n/*\r\ninterface ReleaseType {\r\n    id: string\r\n    list: any[];\r\n}\r\n*/\r\n\r\nconst res: { [prop: string]: string | any } = {\r\n    sales: '内部销售',\r\n    agent: '轻代理',\r\n    privateSite: '内部网站',\r\n    publicSite: '公开网站',\r\n    $en: {\r\n        sales: 'Sales',\r\n        agent: 'Agent',\r\n        privateSite: 'Private Site',\r\n        publicSite: 'Public Site',\r\n    }\r\n};\r\n\r\nconst tt = setRes(res, res);\r\n\r\n\r\nclass Discount extends Widget {\r\n    @observable dateVisible = false;\r\n    //private result: ReleaseType[] = observable.array([], { deep: true });\r\n    private publicList = [\r\n        { value: 5, title: 'a', name: 'a', checked: true },\r\n        { value: 6, title: 'b', name: 'a', checked: undefined },\r\n        { value: 7, title: 'c', name: 'a', checked: undefined },\r\n        { value: 8, title: 'd', name: 'a', checked: undefined }\r\n    ];\r\n\r\n    private onChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\r\n        let val = evt.currentTarget.value;\r\n        let sel = evt.currentTarget.checked;\r\n        // this.dateVisible = val === '4' && sel === true;\r\n        let result: any = this.value || {};\r\n        result[val] = sel;\r\n        this.setValue(result);\r\n    }\r\n\r\n    render = () => {\r\n        let list = [\r\n            { value: 1, title: tt('sales'), name: 'a', checked: this.value['1'] },\r\n            { value: 2, title: tt('agent'), name: 'a', checked: this.value['2'] },\r\n            { value: 3, title: tt('privateSite'), name: 'a', checked: this.value['3'] },\r\n            {\r\n                value: 4, title: tt('publicSite'), name: 'a', checked: this.value['4'],\r\n                subList: [\r\n                    { value: 5, title: 'a', name: 'a', checked: true },\r\n                    { value: 6, title: 'b', name: 'a', checked: false },\r\n                    { value: 7, title: 'c', name: 'a', checked: false },\r\n                    { value: 8, title: 'd', name: 'a', checked: false }\r\n                ]\r\n            }\r\n        ];\r\n\r\n        return <div className=\"form-control\" style={{ height: 'auto' }}>\r\n            {list.map((v, index) => {\r\n                let { value, name, title, checked } = v;\r\n                return <div key={index} className=\"my-1 mx-3\">\r\n                    <label>\r\n                        <input type=\"checkbox\" value={value}\r\n                            name={name} defaultChecked={checked}\r\n                            onChange={this.onChange} /> {title} &nbsp;\r\n\t\t\t\t\t</label>\r\n                </div>\r\n            })}\r\n        </div>\r\n    };\r\n}\r\n\r\nconst schema: Schema = [\r\n    { name: 'discount', type: 'string', required: false },\r\n    //{ name: 'submit', type: 'submit' },\r\n];\r\n\r\nexport class VRelease extends VPage<CPosts>  {\r\n    private form: Form;\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            discount: {\r\n                widget: 'custom',\r\n                label: this.t('pleaseselect'),\r\n                WidgetClass: Discount,\r\n            } as UiCustom,\r\n            submit: { widget: 'button', label: this.t('publish'), className: 'btn btn-primary w-8c' },\r\n        }\r\n    }\r\n\r\n    private onPublish = async () => {\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { publishPost } = this.controller;\r\n        let { discount } = context.data;\r\n        let arr = [];\r\n        for (let i in discount) {\r\n            if (discount[i] === true) arr.push(Number(i))\r\n        }\r\n        publishPost(arr);\r\n    }\r\n\r\n    private page = () => {\r\n        let { showPostPublishForProduct } = this.controller;\r\n        let def = {\r\n            discount: {\r\n                \"1\": true,\r\n                \"2\": true,\r\n                \"3\": true,\r\n                \"4\": true\r\n            }\r\n        };\r\n        return <Page header={this.t('publish')} headerClassName={consts.headerClass} >\r\n            <Form ref={v => this.form = v} className=\"my-3 mx-3\"\r\n                schema={schema}\r\n                uiSchema={this.uiSchema}\r\n                onButtonClick={this.onFormButtonClick}\r\n                requiredFlag={false}\r\n                fieldLabelSize={2}\r\n                formData={def} />\r\n\r\n            <div className=\"text-center\">\r\n                <button type=\"button\" className=\"btn btn-outline-info ml-2\" onClick={this.onPublish} >\r\n                    {this.t('ordinarypublish')}\r\n                </button>\r\n                <button type=\"button\" className=\"btn btn-primary mx-2\" onClick={showPostPublishForProduct} >\r\n                    {this.t('productpublish')}\r\n                </button>\r\n            </div>\r\n        </Page >\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page } from \"tonva\";\r\nimport { CPosts } from \"./CPosts\";\r\nimport { observer } from 'mobx-react';\r\nimport { consts } from 'consts';\r\n\r\nexport class VReleaseProduct extends VPage<CPosts> {\r\n    async open(param: any) {\r\n        this.openPage(this.page, param);\r\n    }\r\n\r\n    private page = observer((param: any) => {\r\n        return <Page header={this.t('productpublish')} headerClassName={consts.headerClass} >\r\n\r\n        </Page>;\r\n    })\r\n}\r\n","import * as React from \"react\";\r\nimport _ from \"lodash\";\r\nimport { CUqBase } from \"../CBase\";\r\nimport { observable } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { VMain } from \"./VMain\";\r\nimport { VShow } from \"./VShow\";\r\nimport { VEdit } from \"./VEdit\";\r\nimport { Context, nav, QueryPager } from \"tonva\";\r\nimport { VPickImage } from \"./VPickImage\";\r\nimport { VPickTemplate } from \"./VPickTemplate\";\r\nimport { VRelease } from \"./VRelease\";\r\nimport { setting } from \"configuration\";\r\nimport { VReleaseProduct } from \"./VReleaseProduct\";\r\n\r\nexport class CPosts extends CUqBase {\r\n    @observable pageTemplate: QueryPager<any>;\r\n    @observable pagePosts: QueryPager<any>;\r\n    @observable pageMedia: QueryPager<any>;\r\n    //@observable items: any[];\r\n    @observable current: any;\r\n    @observable isMe: boolean = true;\r\n\r\n    protected async internalStart(param: any) {\r\n        this.setRes({\r\n            'me-sm': 'm',\r\n            'all-sm': 'A',\r\n            $zh: {\r\n                'me-sm': '我',\r\n                'all-sm': '全',\r\n            }\r\n        });\r\n    }\r\n\r\n    setMe(isMe: boolean) {\r\n        this.isMe = isMe;\r\n        this.loadList();\r\n    }\r\n\r\n    /* 贴文查询*/\r\n    searchPostsKey = async (key: string, author: any) => {\r\n        this.pagePosts = new QueryPager(this.uqs.webBuilder.SearchPost, 15, 30);\r\n        this.pagePosts.setEachItem((item: any) => {\r\n            this.cApp.useUser(item.author);\r\n        });\r\n        let Auser = this.isMe ? nav.user : 0;\r\n        await this.pagePosts.first({ key: key, author: Auser });\r\n\t\t/*\r\n\t\tfor (let item of this.pagePosts.items) {\r\n\t\t\tthis.cApp.useUser(item.author);\r\n\t\t}\r\n\t\t*/\r\n    };\r\n    /* posts模板查询*/\r\n    searchTemplateKey = async (key: string) => {\r\n        this.pageTemplate = new QueryPager(this.uqs.webBuilder.SearchTemplate, 15, 30);\r\n        this.pageTemplate.first({ key: key });\r\n    };\r\n\r\n    searchMadiaKey = async (key: string) => {\r\n        this.pageMedia = new QueryPager(this.uqs.webBuilder.SearchImage, 15, 30);\r\n        this.pageMedia.first({ key: key });\r\n    };\r\n\r\n    // 保存Post\r\n    saveItem = async (id: number, param: any) => {\r\n        param.author = this.user.id;\r\n        let ret = await this.uqs.webBuilder.Post.save(id, param);\r\n        if (id) {\r\n            let item = this.pagePosts.items.find(v => v.id === id);\r\n            if (item !== undefined) {\r\n                _.merge(item, param);\r\n                item.$update = new Date();\r\n            }\r\n            this.current = item;\r\n            this.closePage();\r\n        } else {\r\n            param.id = ret.id;\r\n            param.$create = new Date();\r\n            param.$update = new Date();\r\n            this.pagePosts.items.unshift(param);\r\n            this.current = param;\r\n        }\r\n        this.searchPostsKey(\"\", nav.user);\r\n    };\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VMain);\r\n    });\r\n\r\n    onAdd = () => {\r\n        this.current = undefined;\r\n        this.openVPage(VEdit);\r\n    };\r\n\r\n    renderLabel() {\r\n        return this.renderView(VPickTemplate);\r\n    }\r\n\r\n    loadList = async () => {\r\n        this.searchPostsKey(\"\", this.isMe ? nav.user : 0);\r\n    };\r\n\r\n    showDetail = async (id: number) => {\r\n        this.current = await this.uqs.webBuilder.Post.load(id);\r\n        this.openVPage(VShow);\r\n    };\r\n\r\n    pickImage = async (context: Context, name: string, value: number): Promise<any> => {\r\n        this.searchMadiaKey(\"\");\r\n        return await this.vCall(VPickImage);\r\n    };\r\n\r\n    pickProduct = async () => {\r\n\r\n    }\r\n\r\n    onPickedImage = (id: number) => {\r\n        this.closePage();\r\n        this.returnCall(this.uqs.webBuilder.Image.boxId(id));\r\n    };\r\n\r\n    pickTemplate = async (context: Context, name: string, value: number): Promise<any> => {\r\n        this.searchTemplateKey(\"\");\r\n        return await this.vCall(VPickTemplate);\r\n    };\r\n\r\n    onPickedTemplate = (id: number) => {\r\n        this.closePage();\r\n        this.returnCall(this.uqs.webBuilder.Template.boxId(id));\r\n    };\r\n\r\n    onShowRelease = async () => {\r\n        this.openVPage(VRelease);\r\n    };\r\n\r\n    publishPost = async (param: any) => {\r\n        this.searchPostsKey(\"\", 0);\r\n        await this.uqs.webBuilder.PublishPost.submit({\r\n            _post: this.current.id,\r\n            _operator: nav.user,\r\n            tags: [\r\n                { tagName: param[0] },\r\n                { tagName: param[1] },\r\n                { tagName: param[2] },\r\n                { tagName: param[3] }\r\n            ]\r\n        });\r\n        this.closePage(2);\r\n    };\r\n\r\n    onPreviewPost = (id: number) => {\r\n        window.open(setting.previewUrl + \"/post/\" + id, \"_blank\");\r\n    };\r\n\r\n    showPostPublishForProduct = async () => {\r\n        let result: any = this.uqs.webBuilder.SearchPostPublishForProduct.query({ _post: this.current.id });\r\n        let list: any = result.ret;\r\n        this.openVPage(VReleaseProduct, list);\r\n    }\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    };\r\n}\r\n","import * as React from \"react\";\r\nimport { consts } from \"consts\";\r\nimport { CMedia } from \"./CMedia\";\r\nimport { observer } from \"mobx-react\";\r\nimport { VPage, Page, FA, List, LMR, EasyTime, SearchBox, Loading } from \"tonva\";\r\nimport copy from 'copy-to-clipboard';\r\n\r\nexport class VMain extends VPage<CMedia> {\r\n    async open() {\r\n    }\r\n\r\n    render(member: any): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pageMedia, searchMadiaKey, onAddClick } = this.controller;\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80 mt-1 mr-2\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchMadiaKey(key)}\r\n                placeholder={this.t('searchpicture')} />\r\n            <div onClick={onAddClick}>\r\n                <span className=\"ml-2 iconfont icon-jiahao1 mr-2\"\r\n                    style={{ fontSize: \"26px\", color: \"white\" }}>\r\n                </span>\r\n            </div>\r\n        </div>;\r\n        let { items, loading } = pageMedia;\r\n        let divItems: any;\r\n        if (!items) {\r\n            divItems = (loading === true) ?\r\n                <div className=\"m-5\"><Loading /></div>\r\n                :\r\n                <div className=\"my-3 mx-2 text-warning\">\r\n                    <span className=\"text-primary\" >{this.t('nopicture')}</span>\r\n                </div>;\r\n        }\r\n        else {\r\n            divItems = items.map((v, index) => {\r\n                return this.renderItem(v, index)\r\n            });\r\n        }\r\n        return <Page header={this.t('picture')} headerClassName={consts.headerClass} right={right} onScrollBottom={this.onScrollBottom}>\r\n            <div className=\"mx-3\">\r\n                <div className=\"row row-cols-2 row-cols-sm-3 row-cols-md-4\">\r\n                    {divItems}\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    })\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pageMedia.more();\r\n    }\r\n\r\n    private copyClick = (e: any) => {\r\n        copy(e.target.previousElementSibling.innerText)\r\n        alert(this.t('copysuccess'))\r\n    }\r\n    private preview = (path: any) => {\r\n        window.open(path, '_blank')\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { caption, path, $create } = item;\r\n        let imgStyle = {\r\n            backgroundImage: `url(${path})`,\r\n        }\r\n        //let right = <div className=\"border p-1\"><img className=\"h-4c w-4c\" src={path} /></div>;\r\n\r\n        let right = <div className=\"d-flex align-items-center bg-white rounded\" onClick={() => this.preview(item.path)}>\r\n            <div className=\"w-100 h-100 bg-center-img h-min-12c\" style={imgStyle}>\r\n            </div>\r\n        </div>;\r\n\r\n        return <div key={index} className=\"col px-3 py-2 border-bottom cursor-pointer text-center\">\r\n            <div className=\"pb-2\" style={{ height: \"27px\", overflow: \"hidden\" }} >{caption}</div>\r\n            {right}\r\n\r\n            <div className=\"smallPath small pt-2\">{path}</div>\r\n            <button\r\n                style={{ fontWeight: 550, padding: '0 5px', fontSize: '12px' }}\r\n                className=\"mt-2 btn btn-outline-primary\"\r\n                onClick={this.copyClick}>\r\n                {this.t('copy')}\r\n            </button >\r\n        </div>;\r\n\r\n    }\r\n}","import * as React from \"react\";\r\nimport { CMedia } from './CMedia';\r\nimport { VPage, Page, EasyTime, Tuid, User, FA, LMR, UserView, tv } from \"tonva\";\r\nimport { observer } from \"mobx-react\";\r\nimport { consts } from \"consts\";\r\n\r\nexport class VShowImg extends VPage<CMedia> {\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { current } = this.controller;\r\n        let { caption, path, author, image, template, discription, $create, $update } = current;\r\n        let date = <span><EasyTime date={$update} /></span>;\r\n        let isMe = Tuid.equ(author, this.controller.user.id);\r\n        let right = isMe && <button className=\"btn btn-sm btn-success mr-2 align-self-center\"><FA name=\"pencil-square-o\" /></button>;\r\n        let divUser = this.controller.cApp.renderUser(author.id);\r\n        return <Page header={this.t('editorpicture')} headerClassName={consts.headerClass} right={right}>\r\n            <div className=\"p-3\">\r\n                <div className=\"small text-muted p-1\">{this.t('title')}</div>\r\n                <div className=\"mb-1 h6 px-3 py-2 bg-white\">{caption}</div>\r\n                <LMR className=\"mb-3 px-3 small text-black-50\" right={date}>\r\n                    {divUser}\r\n                </LMR>\r\n                <div className=\"small text-muted p-1\">{this.t('describe')}</div>\r\n                <div className=\"small text-muted p-1\">{this.t('content')}</div>\r\n                <div className=\"small text-muted p-1\">{this.t('template')}</div>\r\n                <div className=\"mb-3 px-3 py-2 bg-white h6\">\r\n                    {tv(template, (values) => <>{values.caption}</>, undefined, () => <small className=\"text-muted\" >[无]</small>)}\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    })\r\n}","import * as React from \"react\";\r\nimport _ from 'lodash';\r\nimport { consts } from \"consts\";\r\nimport { CMedia } from \"./CMedia\";\r\nimport { observer } from \"mobx-react\";\r\nimport { VPage, UiSchema, Schema, UiInputItem, Page, Form, Context, ImageUploader, nav } from \"tonva\";\r\nimport { observable } from \"mobx\";\r\n\r\nexport class VEdit extends VPage<CMedia> {\r\n    @observable private media: any;\r\n    @observable private mediaPath: string;\r\n    private form: Form;\r\n    async open(media: any) {\r\n        this.media = media;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onAddSalesTask = async (model: any) => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private get mediaId() { return this.media && this.media.id; }\r\n    private getMediaPath(resId: string): string { return nav.resUrl + (resId.substr(1)) }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let param = _.clone(context.form.data);\r\n        param.path = this.mediaPath;\r\n        await this.controller.saveItem(this.mediaId, param);\r\n        this.closePage();\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            caption: { widget: 'text', label: this.t('title') } as UiInputItem,\r\n            submit: { widget: 'button', label: this.t('submit') }\r\n        }\r\n    };\r\n\r\n    private schema: Schema = [\r\n        { name: 'caption', type: 'string', required: true },\r\n    ];\r\n\r\n    private onSaved = (resId: string): Promise<void> => {\r\n        this.mediaPath = this.getMediaPath(resId);\r\n        this.closePage();\r\n        return;\r\n    }\r\n\r\n    private onUpload = () => {\r\n        this.media = this.form.data;\r\n        this.openPageElement(<ImageUploader onSaved={this.onSaved} />);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let image: any;\r\n        let saveButton: any;\r\n        if (this.mediaPath) {\r\n            image = <div className=\"m-3 text-center w-max-30c border\"><img className=\"w-8c h-8c border\" src={this.mediaPath} /></div>;\r\n            saveButton = <div className=\"px-1 \">\r\n                <div className=\"text-content text-center\">\r\n                    <button type=\"button\" className=\"btn btn-primary mx-2 col-11\" onClick={this.onAddSalesTask} >{this.t('save')}</button>\r\n                </div>\r\n            </div>;\r\n        }\r\n        else {\r\n            image = <div className=\"text-content text-center\">\r\n                <button className=\"btn btn-primary\" onClick={this.onUpload}>{this.t('uploadpicture')}</button>\r\n            </div>;\r\n        }\r\n\r\n        return <Page header={this.t('editorpicture')} headerClassName={consts.headerClass}>\r\n            <div className=\"mx-3\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={this.media}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n            {image}\r\n            {saveButton}\r\n        </Page>\r\n    })\r\n}","import * as React from \"react\";\r\nimport _ from \"lodash\";\r\nimport { CUqBase } from \"../CBase\";\r\nimport { observable } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { VMain } from \"./VMain\";\r\nimport { QueryPager } from \"tonva\";\r\nimport { VShowImg } from \"./VShowImg\";\r\nimport { VEdit } from \"./VEdit\";\r\n//import { Content } from \"./model/content\"\r\n\r\nexport class CMedia extends CUqBase {\r\n    @observable pageMedia: QueryPager<any>;\r\n    @observable items: any[];\r\n    @observable current: any;\r\n\r\n    protected async internalStart(param: any) {}\r\n\r\n    searchMadiaKey = async (key: string) => {\r\n        this.pageMedia = new QueryPager(\r\n            this.uqs.webBuilder.SearchImage,\r\n            15,\r\n            30\r\n        );\r\n        this.pageMedia.first({ key: key });\r\n    };\r\n\r\n    //添加任务\r\n    saveItem = async (id: any, param: any) => {\r\n        param.author = this.user.id;\r\n        let ret = await this.uqs.webBuilder.Image.save(id, param);\r\n        if (id) {\r\n            let item = this.items.find(v => v.id === id);\r\n            if (item !== undefined) {\r\n                _.merge(item, param);\r\n                item.$update = new Date();\r\n            }\r\n            this.current = item;\r\n        } else {\r\n            param.id = ret.id;\r\n            param.$create = new Date();\r\n            param.$update = new Date();\r\n            this.items.unshift(param);\r\n            this.current = param;\r\n        }\r\n        this.searchMadiaKey(\"\");\r\n    };\r\n\r\n    onAddClick = () => {\r\n        this.current = undefined;\r\n        this.openVPage(VEdit);\r\n    };\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VMain);\r\n    });\r\n\r\n    showMedia = async (id: number) => {\r\n        this.current = await this.uqs.webBuilder.Image.load(id);\r\n        this.openVPage(VShowImg);\r\n    };\r\n\r\n    loadList = async () => {\r\n        this.items = await this.uqs.webBuilder.Image.search(\"\", 0, 100);\r\n        this.searchMadiaKey(\"\");\r\n    };\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    };\r\n}\r\n","import * as React from 'react';\r\nimport _ from 'lodash';\r\nimport { CTemplets } from \"./CTemplets\";\r\nimport { VPage, Form, Context, UiSchema, Schema, Page, UiInputItem } from \"tonva\";\r\nimport { observer } from 'mobx-react';\r\nimport { consts } from 'consts';\r\n\r\nexport class VEdit extends VPage<CTemplets> {\r\n    private templet: any;\r\n    private form: Form;\r\n    async open(templet: any) {\r\n        this.templet = templet;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onClickSaveButton = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let id = this.templet && this.templet.id;\r\n        await this.controller.saveItem(id, context.form.data);\r\n        this.closePage();\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            caption: { widget: 'text', label: '标题' },\r\n            content: { widget: 'textarea', label: 'PC模板', placeholder: '请填写模板内容', rows: 8 } as UiInputItem,\r\n            contentModule: { widget: 'textarea', label: '移动端模板', placeholder: '请填写模板内容', rows: 8 } as UiInputItem,\r\n            submit: { widget: 'button', label: '提交' }\r\n        }\r\n    };\r\n\r\n    private schema: Schema = [\r\n        { name: 'caption', type: 'string', required: true },\r\n        { name: 'content', type: 'string', required: true },\r\n        { name: 'contentModule', type: 'string', required: true },\r\n    ];\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let right = <div className=\"cursor-pointer py-1\" >\r\n            <span className=\"iconfont  mx-3 icon-tianjia\" style={{ fontSize: \"20px\", color: \"#ffffff\" }}></span>\r\n        </div>;\r\n        return <Page header=\"编辑模板\" headerClassName={consts.headerClass}>\r\n            <div className=\"mx-3\">\r\n                <Form ref={v => this.form = v} className=\"my-3\"\r\n                    formData={this.templet}\r\n                    schema={this.schema}\r\n                    uiSchema={this.uiSchema}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    requiredFlag={true}\r\n                />\r\n            </div>\r\n            <div className=\"text-content\" style={{ textAlign: \"center\" }}>\r\n                <button type=\"button\" className=\"col-12 btn btn-primary mx-2\" onClick={this.onClickSaveButton} >保存</button>\r\n            </div>\r\n        </Page>\r\n    })\r\n}\r\n","import * as React from \"react\";\r\nimport { VPage, Page, List, LMR, EasyTime, FA, SearchBox } from \"tonva\";\r\nimport { consts } from \"consts\";\r\nimport { CTemplets } from \"./CTemplets\";\r\nimport { observer } from \"mobx-react\";\r\nimport { VEdit } from './VEdit';\r\n\r\nexport class VMain extends VPage<CTemplets> {\r\n    async open() {\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return <this.page />\r\n    }\r\n    private page = observer(() => {\r\n        let { pageTemplate, searchTemplateKey } = this.controller;\r\n        let right = <div className=\"w-19c d-flex\">\r\n            <SearchBox className=\"w-80 mt-1 mr-2\"\r\n                size='sm'\r\n                onSearch={(key: string) => searchTemplateKey(key)}\r\n                placeholder=\"请输入模板标题\" />\r\n            <div onClick={this.onAddClick}>\r\n                <span className=\"ml-2 iconfont icon-jiahao1 mr-2\"\r\n                    style={{ fontSize: \"26px\", color: \"white\" }}>\r\n                </span>\r\n            </div>\r\n        </div>;\r\n\r\n        let none = <div className=\"my-3 mx-2 text-warning\">\r\n            <span className=\"text-primary\" > 没有模板，请添加！</span>\r\n        </div>;\r\n\r\n        return <Page header=\"模板\" headerClassName={consts.headerClass} right={right} onScrollBottom={this.onScrollBottom}>\r\n            <List before={''} none={none} items={pageTemplate} item={{ render: this.renderItem }} />\r\n        </Page>;\r\n    });\r\n\r\n    private onAddClick = () => {\r\n        this.openVPage(VEdit);\r\n    }\r\n\r\n    private itemClick = (item: any) => {\r\n        this.controller.showDetail(item.id);\r\n    }\r\n\r\n    private onScrollBottom = async () => {\r\n        await this.controller.pageTemplate.more();\r\n    }\r\n\r\n    private onPreview = (id: number) => {\r\n        window.open('https://c.jkchemical.com/webBuilder/template/' + id, '_blank')\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { id, caption, content, $create, $update } = item;\r\n        let right = <div>\r\n            <small className=\"text-muted\"><EasyTime date={$update} /></small>\r\n            <button\r\n                style={{ fontWeight: 550, padding: '0 5px', fontSize: '12px' }} className=\"mt-2 btn btn-outline-primary\"\r\n                onClick={() => this.onPreview(item.id)}\r\n            >预览\r\n                 </button>\r\n        </div>\r\n        // return <LMR className=\"px-3 py-2 border-bottom\" right={right}>\r\n        //     <div>\r\n        //         <span className=\" iconfont icon-mobanguanli mr-2\"\r\n        //             style={{ fontSize: \"24px\", verticalAlign: 'middle', color: '#0066cc' }}>\r\n        //         </span>\r\n        //         <span>{caption}</span>\r\n        //     </div>\r\n        // </LMR>;\r\n        return <div className=\"col-12 py-2 cursor-pointer\">\r\n            <div className=\"col-10 p-0\" onClick={() => this.controller.showDetail(item.id)}>\r\n                <span className=\" iconfont icon-mobanguanli mr-2\"\r\n                    style={{ fontSize: \"24px\", verticalAlign: 'middle', color: '#0066cc' }}>\r\n                </span>\r\n                <span>{caption}</span>\r\n            </div>\r\n            <div className=\"col-2 text-right p-0\">\r\n                <small className=\"text-muted\"><EasyTime date={$update} /></small>\r\n                <button\r\n                    style={{ fontWeight: 550, padding: '0 5px', fontSize: '12px' }} className=\"mt-2 btn btn-outline-primary\"\r\n                    onClick={() => this.onPreview(item.id)}\r\n                >预览\r\n                 </button>\r\n            </div>\r\n        </div>\r\n\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, LMR, tv, EasyTime, UserView, FA, User, Tuid } from \"tonva\";\r\nimport { CTemplets } from \"./CTemplets\";\r\nimport { VEdit } from './VEdit';\r\nimport { observer } from 'mobx-react';\r\nimport { consts } from 'consts';\r\n\r\nexport class VShow extends VPage<CTemplets> {\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { current: templet } = this.controller;\r\n        if (templet === undefined) {\r\n            return <Page>...</Page>;\r\n        }\r\n        let { caption, content, author, $create, $update, contentModule } = templet;\r\n        let date = <span><EasyTime date={$update} /></span>;\r\n        let isMe = Tuid.equ(author, this.controller.user.id);\r\n        let right = isMe && <div onClick={() => this.openVPage(VEdit, templet)}><span className=\"iconfont icon-xiugai1 mr-2\" style={{ fontSize: \"26px\", color: \"white\" }}></span></div>\r\n        let divUser = this.controller.cApp.renderUser(author.id);\r\n        return <Page header=\"模板内容\" headerClassName={consts.headerClass} right={right} >\r\n            <div className=\"p-3\">\r\n                <div className=\"mb-1 h5 px-3 py-2 bg-white\">{caption}</div>\r\n                <LMR className=\"mb-3 px-3 small text-black-50\" right={date}>\r\n                    {divUser}\r\n                </LMR>\r\n                <div className=\"small text-muted p-1\">PC模板</div>\r\n                <pre className=\"mb-3 px-3 py-4 bg-white border\">{content}</pre>\r\n                <div className=\"small text-muted p-1\">移动端模板</div>\r\n                <pre className=\"mb-3 px-3 py-4 bg-white\">{contentModule}</pre>\r\n            </div>\r\n        </Page>;\r\n    })\r\n}\r\n","import * as React from \"react\";\r\nimport _ from \"lodash\";\r\nimport { CUqBase } from \"../CBase\";\r\nimport { observable } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { VMain } from \"./VMain\";\r\nimport { VShow } from \"./VShow\";\r\nimport { QueryPager } from \"tonva\";\r\n\r\nexport class CTemplets extends CUqBase {\r\n    @observable pageTemplate: QueryPager<any>;\r\n    @observable items: any[];\r\n    @observable current: any;\r\n\r\n    protected async internalStart(param: any) {}\r\n\r\n    /* 模板查询*/\r\n    searchTemplateKey = async (key: string) => {\r\n        this.pageTemplate = new QueryPager(\r\n            this.uqs.webBuilder.SearchTemplate,\r\n            15,\r\n            30\r\n        );\r\n        this.pageTemplate.first({ key: key });\r\n    };\r\n\r\n    //保存\r\n    saveItem = async (id: number, param: any) => {\r\n        param.author = this.user.id;\r\n        let ret = await this.uqs.webBuilder.Template.save(id, param);\r\n        if (id) {\r\n            let item = this.items.find(v => v.id === id);\r\n            if (item !== undefined) {\r\n                _.merge(item, param);\r\n                item.$update = new Date();\r\n            }\r\n            this.current = item;\r\n            this.closePage();\r\n        } else {\r\n            param.id = ret.id;\r\n            param.$create = new Date();\r\n            param.$update = new Date();\r\n            this.items.unshift(param);\r\n            this.current = param;\r\n        }\r\n        this.searchTemplateKey(\"\");\r\n    };\r\n\r\n    render = observer(() => {\r\n        return this.renderView(VMain);\r\n    });\r\n\r\n    loadList = async () => {\r\n        this.searchTemplateKey(\"\");\r\n        this.items = await this.uqs.webBuilder.Template.search(\"\", 0, 100);\r\n    };\r\n\r\n    showDetail = async (id: number) => {\r\n        this.current = await this.uqs.webBuilder.Template.load(id);\r\n        this.openVPage(VShow);\r\n    };\r\n\r\n    tab = () => {\r\n        return <this.render />;\r\n    };\r\n}\r\n","import * as React from \"react\";\r\nimport { VPage, Page, Schema, UiTagSingle, Edit, Form, UiButton } from \"tonva\";\r\nimport { CTag } from \"./CTag\";\r\nimport { consts } from \"consts\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nexport class VTag extends VPage<CTag> {\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n    private schema: Schema = [\r\n        { name: \"b\", type: \"string\" },\r\n        { name: \"submit\", type: \"submit\" }\r\n    ];\r\n\r\n    private page = observer(() => {\r\n        let uiSchema = {\r\n            items: {\r\n                b: {\r\n                    label: \"单选Radio\",\r\n                    widget: \"tagSingle\",\r\n                    valuesView: this.controller.Test1.view //list: this.controller.tagText2Values\r\n                } as UiTagSingle,\r\n                submit: {\r\n                    label: \"提交\",\r\n                    widget: \"button\",\r\n                    className: \"btn btn-primary\"\r\n                } as UiButton\r\n            }\r\n        };\r\n        return (\r\n            <Page header=\"标签\" headerClassName={consts.headerClass}>\r\n                        \r\n                <Form\r\n                    className=\"p-3\"\r\n                    schema={this.schema}\r\n                    uiSchema={uiSchema}\r\n                    formData={{ b: 3, c: \"2|4\" }}\r\n                    fieldLabelSize={2}\r\n                />\r\n            </Page>\r\n        );\r\n    });\r\n}\r\n","import _ from \"lodash\";\r\nimport { CUqBase } from \"CBase\";\r\nimport { observable } from \"mobx\";\r\nimport { VTag } from \"./VTag\";\r\nimport { Tag } from \"tonva\";\r\n\r\nexport class CTag extends CUqBase {\r\n    Test1: Tag;\r\n    protected async internalStart(param: any) {\r\n\t\tlet { Test1 } = this.uqs.webBuilder;\r\n\t\tthis.Test1 = Test1;\r\n        await Test1.loadValues();\r\n    }\r\n\r\n    showTag = async () => {\r\n        let { Test1 } = this.uqs.webBuilder;\r\n\t\tthis.Test1 = Test1;\r\n        await Test1.loadValues();\r\n        this.openVPage(VTag);\r\n    };\r\n}\r\n","import { en, zh } from \"./en\";\r\n\r\nexport const res = {\r\n    $zh: zh,\r\n    $en: en,\r\n}\r\n","export const en = {\r\n    post: 'Post',\r\n    noposts: 'None',\r\n    editorpost: 'Edit',\r\n    searchpost: 'Search post',\r\n    postdetailed: 'Detail',\r\n    title: 'Title',\r\n    describe: 'Describe',\r\n    content: 'Content',\r\n\r\n    publish: 'Publish',\r\n    productpublish: 'Publish For Product',\r\n    ordinarypublish: 'Publish Fro Ordinary',\r\n    pleaseselect: 'Please select',\r\n    internalsales: 'Internal sales',\r\n    lightagent: 'Light agent',\r\n    internalwebpage: 'Internal web page',\r\n    openwebpage: 'Open web page',\r\n\r\n    picture: 'Picture',\r\n    searchpicture: 'Search picture',\r\n    selectpicture: 'Select picture',\r\n    editorpicture: 'Editor picture',\r\n    nopicture: 'No picture',\r\n    uploadpicture: 'Upload picture',\r\n\r\n    template: 'Template',\r\n    selecttemplate: 'Select template',\r\n    notemplate: 'No template',\r\n    preview: 'Preview',\r\n\r\n    page: 'Page',\r\n    name: 'Name',\r\n    editorpage: 'Editor page',\r\n    sort: 'Sort',\r\n    module: 'Mdule',\r\n    editorsubmodule: 'Editor Sub module',\r\n    mymodule: 'My module',\r\n\r\n    me: 'Me',\r\n    tag: 'Tag',\r\n    set: 'Set',\r\n    logout: 'Logout',\r\n    about: 'About',\r\n    password: 'Password',\r\n    account: 'Account',\r\n    version: 'Version',\r\n    privacypolicy: 'Privacy policy',\r\n    personalinformation: 'Personal information',\r\n    headportrait: 'Head Portrait',\r\n\r\n    all: 'All',\r\n    submit: 'Submit',\r\n    select: 'Select',\r\n    save: 'Save',\r\n    copy: 'Copy',\r\n    copysuccess: 'Copy Success',\r\n    editor: 'Editor'\r\n}\r\n\r\nexport const zh = {\r\n\r\n    post: '帖文',\r\n    noposts: '无帖文',\r\n    editorpost: '编辑帖文',\r\n    searchpost: '搜索帖文',\r\n    postdetailed: '帖文明细',\r\n    title: '标题',\r\n    describe: '描述',\r\n    content: '内容',\r\n\r\n    publish: '发布',\r\n    productpublish: '产品发布',\r\n    ordinarypublish: '普通发布',\r\n    pleaseselect: '请选择',\r\n    internalsales: '内部销售',\r\n    lightagent: '轻代理',\r\n    internalwebpage: '内部网页',\r\n    openwebpage: '公开网页',\r\n\r\n    picture: '图片',\r\n    searchpicture: '搜索图片',\r\n    selectpicture: '选择图片',\r\n    editorpicture: '编辑图片',\r\n    nopicture: '无图片',\r\n    uploadpicture: '上传图片',\r\n\r\n    template: '模板',\r\n    selecttemplate: '选择模板',\r\n    notemplate: '无模板',\r\n    preview: '预览',\r\n\r\n    page: '网页',\r\n    name: '名称',\r\n    editorpage: '编辑网页',\r\n    sort: '排序',\r\n    module: '模块',\r\n    editorsubmodule: '编辑模块',\r\n    mymodule: '我的模块',\r\n\r\n    me: '我的',\r\n    tag: '标签',\r\n    set: '设置',\r\n    logout: '退出登陆',\r\n    about: '关于',\r\n    password: '密码',\r\n    account: '账户信息',\r\n    version: 'Version',\r\n    privacypolicy: '隐私政策',\r\n    personalinformation: '个人信息',\r\n    headportrait: '头像',\r\n\r\n    all: '全部',\r\n    submit: '提交',\r\n    select: '选择',\r\n    save: '保存',\r\n    copy: '复制',\r\n    copysuccess: '复制成功',\r\n    editor: '编辑'\r\n}","import * as React from 'react';\r\nimport { UQs } from \"./uqs\";\r\nimport { CMe } from \"./me/CMe\";\r\nimport { VMain } from \"ui/main\";\r\nimport { CUqBase } from \"./CBase\";\r\nimport { CPage } from \"page/CPage\";\r\nimport { CPosts } from \"./posts/CPosts\";\r\nimport { CMedia } from \"./media/CMedia\";\r\nimport { CAppBase, IConstructor, UserCache, UserView, tv } from \"tonva\";\r\nimport { CTemplets } from \"./templets/CTemplets\";\r\nimport { setting } from \"configuration\";\r\nimport { CTag } from \"tag/CTag\";\r\nimport { observer } from 'mobx-react';\r\nimport { res } from 'res';\r\n\r\nexport class CApp extends CAppBase {\r\n    get uqs(): UQs {\r\n        return this._uqs;\r\n    }\r\n\r\n    cMe: CMe;\r\n    cPosts: CPosts;\r\n    cMedia: CMedia;\r\n    cTemplets: CTemplets;\r\n    cPage: CPage;\r\n    cTag: CTag;\r\n\r\n    private userCache: UserCache<any>;\r\n\r\n    protected newC<T extends CUqBase>(type: IConstructor<T>): T {\r\n        return new type(this);\r\n    }\r\n\r\n    protected async internalStart() {\r\n        //根据网址判断是什么APP\r\n        if (document.domain === setting.appUrlDomain) {\r\n            setting.previewUrl = \"https://web.jkchemical.com\";\r\n        } else {\r\n            setting.previewUrl = \"https://tv.jkchemical.com/jk-web\";\r\n        }\r\n\r\n        this.setRes(res);\r\n\r\n        let userLoader = async (userId: number): Promise<any> => {\r\n            let model = await this.uqs.hr.SearchEmployeeByid.query({ _id: userId });\r\n            return model?.ret?.[0];\r\n        }\r\n        this.userCache = new UserCache(userLoader);\r\n\r\n        this.cMe = this.newC(CMe);\r\n\t\tthis.cPosts = this.newC(CPosts);\r\n\t\tawait this.cPosts.start();\r\n        this.cMedia = this.newC(CMedia);\r\n        this.cTemplets = this.newC(CTemplets);\r\n        this.cPage = this.newC(CPage);\r\n        this.cTag = this.newC(CTag);\r\n        this.showMain();\r\n    }\r\n\r\n    showMain(initTabName?: string) {\r\n        this.openVPage(VMain, initTabName);\r\n    }\r\n\r\n    renderUser(userId: number) {\r\n        return <this._renderUser userId={userId} />;\r\n    }\r\n\r\n    private _renderUser = observer((props: { userId: number }): JSX.Element => {\r\n\t\tlet {userId} = props;\r\n        let val = this.userCache.getValue(userId);\r\n        switch (typeof val) {\r\n\t\tcase 'undefined':\r\n\t\tcase 'number':\r\n\t\t\treturn <span className=\"author\">{userId}</span> \r\n\t\t};\r\n        return <span className=\"author\">{val.name}</span>;\r\n\t});\r\n\t\r\n\tuseUser(userId: number) {\r\n\t\tthis.userCache.use(userId);\r\n\t}\r\n}\r\n","import * as React from 'react';\r\nimport './App.css';\r\nimport { NavView, nav, start } from 'tonva';\r\nimport { CApp } from 'CApp';\r\nimport { appConfig } from 'configuration';\r\n\r\nnav.setSettings(appConfig);\r\nclass App extends React.Component {\r\n\r\n  private onLogined = async () => {\r\n    await start(CApp, appConfig);\r\n  }\r\n  public render() {\r\n\r\n    return <NavView onLogined={this.onLogined} />\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport './static/font_o9pla2ijgg/iconfont.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}